[{"categories":["å†™ä½œ"],"content":"å°†åšå®¢æºæ–‡ä»¶æ‰˜ç®¡åœ¨æŸä¸ªåœ°æ–¹ï¼Œæ¢å°ç”µè„‘ç»§ç»­ç¼–è¾‘ã€‚å†åŠ ä¸Šè§¦å‘æœºåˆ¶æ›´å¥½ï¼Œå³ä¸€ä¸Šä¼ â«å°±åŒæ­¥æ›´æ–°åšå®¢ï½ åœ¨ä¹‹å‰å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢çš„æ–‡ç« ä¸­æœ‰æåˆ° å°† public æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ¨é€è‡³GitHubä»“åº“ æ¯æ¬¡è¿™ä¹ˆæ“ä½œè¿˜æ˜¯æœ‰ç‚¹ç¹ççš„ï¼Œæ‰€ä»¥å°±æƒ³å¦‚æœæ›´æ–°å®Œhugoæºæ–‡ä»¶ï¼Œåšå®¢è‡ªåŠ¨æ›´æ–°å°±å¥½äº†ã€‚æ­¤å¤–ï¼Œæ¢å°ç”µè„‘ğŸ’»ï¼Œä¾ç„¶æ­£å¸¸æ“ä½œå°±æ›´æ›´æ›´å¥½äº†ï½ ç»ˆäºï¼Œæ˜¯æ‰¾åˆ°äº†GitHubçš„ Actions ä¸­ Workflows åŠŸèƒ½ å°†Hugoæºæ–‡ä»¶ç»´æŠ¤åœ¨GitHubä¸Šï¼Œåªè¦æºæ–‡ä»¶çš„ä»“åº“æ›´æ–°ï¼Œè‡ªåŠ¨æ›´æ–°å­˜æœ‰ public æ–‡ä»¶çš„ä»“åº“ï¼Œé‚£ä¹ˆåšå®¢ä¹Ÿå°±éšä¹‹æ›´æ–°äº†ã€‚ åœ¨æ­¤è®°å½•ä¸‹å®ç°è¿‡ç¨‹ ğŸ‘‡ ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:0:0","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["å†™ä½œ"],"content":"1. ç”ŸæˆSSH key ï¼ˆWindows ç¯å¢ƒï¼‰å‚è€ƒè¿™ä¸ª é€šè¿‡git bash cd è‡³ .ssh æ–‡ä»¶å¤¹ cd ~/.ssh/ å¦‚æœæç¤º No such file or directoryï¼Œå¯ä»¥æ‰‹åŠ¨çš„åˆ›å»ºä¸€ä¸ª .sshæ–‡ä»¶å¤¹ï¼ŒBY mkdir ~/.ssh é…ç½®å…¨å±€ name å’Œ email git config --global user.name \"ä½ çš„ç”¨æˆ·å\" git config --global user.email \"ä½ çš„å…¬å¸æˆ–ä¸ªäººé‚®ç®±\" ç”Ÿæˆ key ssh-keygen -t rsa -C \"ä½ çš„å…¬å¸æˆ–ä¸ªäººé‚®ç®±\" è¿ç»­æŒ‰ 3 æ¬¡å›è½¦ æœ€åå¾—åˆ°ä¿©æ–‡ä»¶ï¼š id_rsa å’Œ id_rsa.pub ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:1:0","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["å†™ä½œ"],"content":"2. åˆ›å»ºå¹¶é…ç½®ä»“åº“å‚è€ƒè¿™ä¸ª ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:2:0","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["å†™ä½œ"],"content":"2.1 é…ç½®hugoæºæ–‡ä»¶çš„ä»“åº“ä»“åº“åç§°ä¸é™ï¼Œåœ¨æ­¤ä»¥ unclehuzi.github.io.source ä¸ºä¾‹ è¿›å…¥unclehuzi.github.io.sourceä»“åº“ï¼Œæ·»åŠ Secretsï¼Œåç§°ä¸ºACTIONS_DEPLOY_KEYï¼Œå°† id_rsa æ–‡ä»¶çš„å†…å®¹ç²˜è¿‡å»ï¼Œå¾—åˆ°å†…å®¹å¦‚ä¸‹æ‰€ç¤º ä¸Šä¼  hugoæºæ–‡ä»¶ æŠŠ themes ä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„ .git æ–‡ä»¶åˆ é™¤ ä¸ç„¶Github ä¼šæ£€æµ‹åˆ°æ˜¯åˆ«çš„ä»“åº“ï¼Œä¸Šä¼ åæ–‡ä»¶å¤¹æ˜¯ç°è‰²çš„ ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:2:1","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["å†™ä½œ"],"content":"2.2 é…ç½® unclehuzi.github.io ä»“åº“ä»“åº“åç§°æœ‰è®²ç©¶ï¼Œå¾—æ˜¯è¿™ä¸ª github_user_name.github.io è¿›å…¥unclehuzi.github.io ä»“åº“ï¼Œæ·»åŠ Deploy keys ï¼Œåç§°ä¸é™åˆ¶ï¼Œå°†id_rsa.pubæ–‡ä»¶çš„å†…å®¹ç²˜è¿‡å»ã€‚ ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:2:2","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["å†™ä½œ"],"content":"2.3 é…ç½®å·¥ä½œæµï¼ˆWorkflowsï¼‰è¿›å…¥unclehuzi.github.io.sourceä»“åº“ï¼Œåˆ›å»º Actions ä»£ç å¦‚ä¸‹ ğŸ‘‡ name:Deploy Hugo Site to Github Pages on Master Branchon:push:branches:- master # Attention 1jobs:build-deploy:runs-on:ubuntu-lateststeps:- uses:actions/checkout@v2- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:'0.83.1'extended:true# ä½¿ç”¨æ‰©å±•ç‰ˆ# Attention 2- name:Buildrun:hugo#--minify- name:Deployuses:peaceiris/actions-gh-pages@v3with:deploy_key:${{ secrets.ACTIONS_DEPLOY_KEY }}# è¿™é‡Œçš„ ACTIONS_DEPLOY_KEY åˆ™æ˜¯ä¸Šé¢è®¾ç½® Private Keyçš„å˜é‡åexternal_repository:unclehuzi/unclehuzi.github.io# Pages è¿œç¨‹ä»“åº“ publish_dir:./publickeep_files:false# remove existing filespublish_branch:master # deploying branch# Attention 3commit_message:${{ github.event.head_commit.message }} å¤‡æ³¨ Attention 1 source ä»“åº“çš„åˆ†æ”¯åç§°ä¸º master Attention 2 hugo çš„ç‰ˆæœ¬ Attention 3 unclehuzi.github.io ä»“åº“çš„åˆ†æ”¯åç§° ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:2:3","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["å†™ä½œ"],"content":"3. Finished ä»¥åç»´æŠ¤å¥½sourceè¿™ä¸ªä»“åº“å°±èƒ½å®ç° è§¦å‘æœºåˆ¶ä»¥è‡ªåŠ¨æ›´æ–°blog æ¢ä¸ªç”µè„‘ ğŸ’» ç»§ç»­å†™blog ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:3:0","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["å†™ä½œ"],"content":"Reference https://jinnzy.github.io/shi-yong-hugolai-da-jian-ge-ren-blog/#%E5%88%A9%E7%94%A8github-pages%E9%83%A8%E7%BD%B2blog https://www.jianshu.com/p/95262f5eba7a ","date":"2021-07-14","objectID":"/posts/20210714-workflows/:4:0","tags":["blog"],"title":"è¿œç¨‹ç®¡ç†hugoæºæ–‡ä»¶ä»¥è‡ªåŠ¨æ›´æ–°blog","uri":"/posts/20210714-workflows/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"RTï¼ŒSQLè®¡ç®—å¤šä¸ªå˜é‡çš„IVï¼ˆInformation Valueï¼‰ ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:0:0","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"èƒŒæ™¯å˜é‡çš„é¢„æµ‹èƒ½åŠ›å¾€å¾€å¯ä»¥é€šè¿‡IVå€¼æ¥åˆ¤æ–­ï¼Œç±»ä¼¼ä¹‹å‰çš„ SQLè®¡ç®—PSI IVå€¼ä¹Ÿæœ‰ç»éªŒåŒºé—´ä¾›å‚è€ƒï¼Œä»¥åŠå¯é€šè¿‡SQLå®ŒæˆæŒ‡æ ‡çš„è®¡ç®— Information Value Predictive Power \u003c 0.02 useless for prediction 0.02 - 0.1 weak predictor 0.1 - 0.3 medium predictor 0.3 - 0.5 strong predictor \u003e 0.5 suspicious or too good ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:1:0","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"è®¡ç®—å…¬å¼å…³äº IV çš„è¯¦ç»†ä»‹ç»ï¼Œå¯å‚è€ƒè¿™ç¯‡æ–‡ç«  å…·ä½“è®¡ç®—å…¬å¼å¦‚ä¸‹ $$IV=\\sum_{i=1}^{n}(\\frac{Bad_i}{Bad_T} - \\frac{Good_i}{Good_T}) \\times WOE_i$$ å…¶ä¸­ï¼Œ $$WOE_i=\\ln(\\frac{Bad_i}{Bad_T}) - \\ln(\\frac{Good_i}{Good_T})$$ å…¬å¼è¯´æ˜ Badã€Goodå³è¡¨ç¤ºæ­£è´Ÿæ ·æœ¬ï¼Œé£æ§åœºæ™¯æœ‰å¥½ã€åçš„ç§°å‘¼ $n$ ä¸ºåˆ†ç®±çš„ä¸ªæ•° $Bad_i$, $Good_i$ è¡¨ç¤ºç¬¬iä¸ªç®±å­â€œåâ€ã€â€œå¥½â€äººæ•° $Bad_T$, $Good_T$ è¡¨ç¤ºâ€œåâ€ã€â€œå¥½â€æ€»äººæ•° ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:2:0","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"è®¡ç®—æ ·ä¾‹åˆ†ç®±æ–¹å¼ï¼šç­‰é¢‘ï¼ˆç¼ºå¤±å€¼å•ç‹¬åˆ’ä¸ºä¸€ç®±ï¼‰ score_group group_bad_i group_good_i woe_i iv_i r1 271 31882 0.218363 0.0054 r2 225 30572 0.074301 0.0006 r3 195 29107 -0.01969 0.0000 r4 188 28761 -0.04429 0.0002 r5 163 28400 -0.17435 0.0025 r6 182 27387 -0.02778 0.0001 r7 194 28058 0.01187 0.0000 r8 160 24564 -0.04782 0.0002 r9 158 29625 -0.24774 0.0052 r10 70 17302 -0.52404 0.0118 missing 327 36519 0.270413 0.0098 ä»¥ä¸Šä¾‹å­æœ€ç»ˆå¾—åˆ° $IV=\\sum_{i=1}^{11}(IV_i)=0.0358$ ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:3:0","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"SQLå®ç°å‡†å¤‡å¥½é¢„æµ‹å˜é‡ï¼ˆ$X$ï¼‰å’Œç›®æ ‡å˜é‡ï¼ˆ$y$ï¼‰ï¼Œscoreè¡¨å½¢å¦‚ ym no x1 x2 x3 x4 y 202101 a1 617 481 773 671.68 1 202102 a2 585 585 522 600.56 0 202102 a3 617 548 677 635.68 1 202102 a4 647 null 765 655.63 0 202102 a5 596 478 656 635.3 0 202102 a6 636 618 595 630 0 202102 a7 714 572 842 644.28 0 202012 a8 null 495 720 628.79 0 202012 a9 636 618 595 426 0 202012 a10 557 562 null 589 1 åŸºäºæ­¤å¾—åˆ°å„ä¸ªå˜é‡åœ¨ä¸åŒæœˆä»½çš„é¢„æµ‹èƒ½åŠ› è¿™é‡Œä¾ç„¶æ¶‰åŠçª—å£å‡½æ•°çš„åº”ç”¨ä»¥åŠè¡Œåˆ—äº’è½¬ çª—å£å‡½æ•°-èšåˆ çª—å£å‡½æ•°-æ’åº çª—å£å‡½æ•°çš„â€œçª—å£â€ è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ æ€è·¯ ç±»ä¼¼PSIçš„è®¡ç®—æ€è·¯ï¼Œè®¡ç®—IVçš„æ•´ä½“æ€è·¯ä¾ç„¶å‚ç…§å…¬å¼ï¼Œï¼ˆç­‰é¢‘ï¼‰åˆ†ç®±åï¼ŒåŸºäºæ•°æ®çš„æ–­ç‚¹ï¼ˆBreakpoint Valueï¼‰ç»Ÿè®¡å‡ºæ¯ä¸ªç®±å­çš„å¥½åäººæ•° ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:4:0","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"1. åˆ—è½¬è¡Œå°†scoreè¡¨è¿›è¡Œåˆ—è½¬è¡Œï¼Œå˜ä¸ºkey-value é”®å€¼å¯¹çš„å½¢å¼ droptableifexistsscore_value;createtablescore_valueasselectno,ym,y,score,score_valuefrom(selectno,ym,x1,x2,x3,x4,yfromscore)lateralviewouterexplode(map('x1',x1,'x2',x2,'x3',x3,'x4',x4))tasscore,score_value; ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:4:1","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"2. åˆ†ç®±ç»Ÿè®¡å¥½åäººæ•°è¿™é‡Œé‡‡ç”¨çš„æ˜¯ ç­‰é¢‘åˆ†ç®± droptableifexistsscore_group_nums;createtablescore_group_numsasselectym,score,score_group,group_bad_i,group_good_i,sum(group_bad_i)over(partitionbyym,score)asgroup_bad_total,sum(group_good_i)over(partitionbyym,score)asgroup_good_totalfrom(selectym,score,score_group,count(casewheny=1thennoend)asgroup_bad_i,count(casewheny=0thennoend)asgroup_good_ifrom(selecta.*,casewhena.score_valueisnullora.score_valuein('','null','NULL')then'missing'whena.score_value\u003c=r.score_array[0]then'r1'whena.score_value\u003c=r.score_array[1]then'r2'whena.score_value\u003c=r.score_array[2]then'r3'whena.score_value\u003c=r.score_array[3]then'r4'whena.score_value\u003c=r.score_array[4]then'r5'whena.score_value\u003c=r.score_array[5]then'r6'whena.score_value\u003c=r.score_array[6]then'r7'whena.score_value\u003c=r.score_array[7]then'r8'whena.score_value\u003c=r.score_array[8]then'r9'whena.score_value\u003c=r.score_array[9]then'r10'endasscore_groupfromscore_valuealeftjoin(-- ç­‰é¢‘åˆ†ç®± 10 bins selectym,score,percentile_approx(score_value,array(0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1),999999)asscore_arrayfromscore_valuegroupby1,2)ron(a.ym=r.ymanda.score=r.score))groupby1,2,3); ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:4:2","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"3. è®¡ç®—IVå›é¡¾ä¸‹å…¬å¼ $$IV=\\sum_{i=1}^{n}(\\frac{Bad_i}{Bad_T} - \\frac{Good_i}{Good_T}) \\times WOE_i$$ å…¶ä¸­ï¼Œ $$WOE_i=\\ln(\\frac{Bad_i}{Bad_T}) - \\ln(\\frac{Good_i}{Good_T})$$ selectym,score,sum(iv_i)asivfrom(selectym,score,score_group,(ln(group_bad_i/group_bad_total)-ln(group_good_i/group_good_total))*(group_bad_i/group_bad_total-group_good_i/group_good_total)asiv_ifromscore_group_nums)groupby1,2 ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:4:3","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"æ€»ç»“åœ¨éå»ºæ¨¡åœºæ™¯ï¼Œåªæƒ³å¤§æ¦‚çœ‹ä¸‹ï¼ˆæˆ–ç›‘æ§ï¼‰å„å˜é‡çš„é¢„æµ‹èƒ½åŠ›æ—¶ï¼Œä¸ºçœå»å¯¼å‡ºæ•°æ®ç”¨Pythonè®¡ç®—IVçš„éº»çƒ¦ï¼Œæœ¬æ–‡ä¾¿ä»¥IVçš„è®¡ç®—å…¬å¼å‡ºå‘è¯¦ç»†è®°å½•SQLè®¡ç®—è¿‡ç¨‹ ","date":"2021-07-08","objectID":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/:5:0","tags":["Model","SQL"],"title":"SQLè®¡ç®—å¤šä¸ªå˜é‡çš„IV","uri":"/posts/20210708-sql%E8%AE%A1%E7%AE%97iv/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"RTï¼ŒSQLæ‰¹é‡è®¡ç®—å„ä¸ªæ¨¡å‹åˆ†çš„PSIï¼Œæ›´æ–¹ä¾¿çš„æ­å»ºæ¨¡å‹åˆ†ç¨³å®šæ€§çš„ç›‘æ§ï¼Œæ»¡è¶³æ¨¡å‹åº”ç”¨çš„å……åˆ†æ¡ä»¶ â€” æ ·æœ¬åˆ†å¸ƒä¸€è‡´æ€§ ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:0:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"èƒŒæ™¯åº”ç”¨æ¨¡å‹çš„ä¸€å¤§å‰æä¾¿æ˜¯å»ºæ¨¡æ ·æœ¬å°½é‡å’Œå®é™…ç”Ÿäº§æ ·æœ¬åœ¨åˆ†å¸ƒä¸Šä¿æŒä¸€è‡´æ€§ï¼Œä¿è¯è·¨æœŸå±‚é¢çš„å‡†ç¡®æ€§ å½“æ¨¡å‹åˆ†åç§»åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œä¹Ÿè¯¥è€ƒè™‘è¿­ä»£ä¸€ç‰ˆäº† åç§»ç¨‹åº¦å¯ä»¥ç”¨ PSI è¿™ä¸ªæŒ‡æ ‡æ¥è¯„ä»·ï¼Œè€Œå¯¹äºè¿™ä¸ªç¨‹åº¦ä¸šç•Œæœ‰ä¸ªç»éªŒå€¼1 psi PSI \u003c 0.1: no significant population change PSI \u003c 0.2: moderate population change PSI \u003e= 0.2: significant population change ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:1:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"è®¡ç®—å…¬å¼å…³äºPSIçš„è¯¦ç»†ä»‹ç»ï¼Œå¯å‚è€ƒæˆ‘å¸æ¨¡å‹å¤§ä½¬çš„è¿™ç¯‡æ–‡ç«  å…·ä½“è®¡ç®—å…¬å¼å¦‚ä¸‹ $$PSI=\\sum_{i=1}^{n}((Actual_i\\% - Expected_i\\%)\\times \\ln(\\frac{Actual_i\\%}{Expected_i\\%}))$$ å…¬å¼è¯´æ˜ n ä¸ºåˆ†ç®±çš„ä¸ªæ•° $Actual_i\\%$ è¡¨ç¤ºç¬¬iä¸ªç®±å­çš„å®é™…å æ¯” $Expected_i\\%$ è¡¨ç¤ºç¬¬iä¸ªç®±å­çš„é¢„æœŸå æ¯”ï¼Œï¼ˆç§°å…¶ä¸ºæ¯”è¾ƒçš„åŸºå‡†ï¼‰ ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:2:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"è®¡ç®—æ ·ä¾‹ä»¥æŸä¸€ä¸ªæ¨¡å‹åˆ†ä¸ºä¾‹ï¼Œè®¡ç®—è·¨æœŸçš„psi bucket excepted_num except_rate actual_num actual_rate psi 1 26780 0.1010 31779 0.1359 0.01036 2 26355 0.0994 27439 0.1173 0.00298 3 26532 0.1000 26008 0.1112 0.00118 4 27416 0.1034 25816 0.1104 0.00046 5 26495 0.0999 24113 0.1031 0.00010 6 26588 0.1002 23146 0.0990 0.00002 7 25957 0.0979 21176 0.0905 0.00057 8 27530 0.1038 21442 0.0917 0.00150 9 25898 0.0976 18310 0.0783 0.00428 10 25710 0.0969 14682 0.0628 0.01484 ä»¥ä¸Šä¾‹å­æœ€ç»ˆå¾—åˆ° $PSI=\\sum_{i=1}^{10}(psi)=0.0362$ ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:3:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"SQLå®ç° æˆ‘ä»¬å¸Œæœ›å¾—åˆ°çš„æ˜¯ä»å­˜æœ‰å„ä¸ªæ¨¡å‹åˆ†çš„è¡¨ï¼ˆå‘½åä¸º scoreï¼‰å¾—åˆ°ä¸Šå›¾ğŸ‘†ï¼Œscoreè¡¨æ ·ä¾‹å¦‚ä¸‹ no week scoreA scoreB scoreC scoreD scoreE a1 9 617 481 773 671.68 561 a2 2 585 585 522 600.56 588 a3 16 617 548 677 635.68 563 a4 7 647 564 765 655.63 586 a5 12 596 478 656 635.3 586 a6 7 636 618 595 630 572 a7 22 714 572 842 644.28 563 a8 23 638 495 720 628.79 563 a9 3 636 618 595 426 526 a10 3 557 562 526 589 535 å¤‡æ³¨ ä¸€è¡Œè¡¨ç¤ºè¯¥ç”¨æˆ·å¯¹åº”çš„å„ç§æ¨¡å‹åˆ†æ•°ï¼ŒscoreAâ€¦scoreE å…¶ä¸­ï¼Œ week è¡¨ç¤ºç¬¬å‡ å‘¨ï¼Œè¿™é‡Œä»¥2021å¹´ç¬¬ä¸€å‘¨ï¼ˆ[2021-01-04,2021-01-10]ï¼‰çš„æ•°æ®ä½œä¸ºåŸºå‡†ï¼Œå³ excepted è¿™é‡Œä¼šæ¶‰åŠä¹‹å‰ä¸€äº›æ–‡ç« çš„çŸ¥è¯†ç‚¹ çª—å£å‡½æ•°-èšåˆ çª—å£å‡½æ•°-æ’åº çª—å£å‡½æ•°çš„â€œçª—å£â€ è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ æ€è·¯ æ•´ä½“æ€è·¯è¿˜æ˜¯è·Ÿç€ PSI çš„è®¡ç®—å…¬å¼èµ°ï¼ŒæŒ‰ç…§æŸç§æ–¹å¼ï¼ˆç­‰é¢‘ / ç­‰è·ï¼‰å°†åŸºå‡†çš„æ•°æ®åˆ†æˆ n ç®±å­ï¼ŒåŸºäºåŸºå‡†æ•°æ®çš„æ–­ç‚¹ï¼ˆBreakpoint Valueï¼‰ç»Ÿè®¡å®é™…å æ¯”ï¼ˆ$Actual$ï¼‰ ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œå…ˆè¿›è¡Œ åˆ—è½¬è¡Œ ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:4:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"1. åˆ—è½¬è¡Œå°†scoreè¡¨è¿›è¡Œåˆ—è½¬è¡Œï¼Œå˜ä¸ºkey-value é”®å€¼å¯¹çš„å½¢å¼ droptableifexistsscore_value_weekly;createtablescore_value_weeklyasselectno,week,score,score_valuefrom(selectno,week,score,score_valuefromscorelateralviewexplode(map('scoreA',scoreA,'scoreB',scoreB,'scoreC',scoreC,'scoreD',scoreD,'scoreE',scoreE))tasscore,score_value)wherescore_valueisnotnullandscore_valuenotin('null','NULL'); ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:4:1","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"2. åŸºäºåŸºå‡†æ•°æ®ç»Ÿè®¡å„ç®±numsè¿™é‡Œå°±è¦åˆ†æˆä¸¤ç§æƒ…å†µï¼š ç­‰é¢‘åˆ†ç®± ç­‰è·åˆ†ç®± å…·ä½“ä½¿ç”¨å“ªç§åˆ†ç®±æ–¹å¼è¿˜æ˜¯è¦ç»“åˆæ¨¡å‹åˆ†çš„å®é™…åº”ç”¨æƒ…å†µ ä½†æ˜¯ï¼Œå½“æ¨¡å‹åˆ†å‘ˆç°è¾ƒä¸ºä¸¥é‡çš„åæ€åˆ†å¸ƒæ—¶ï¼Œç­‰é¢‘åˆ†ç®±ä¼šå‡ºç°å¥½å‡ ä¸ªç®±å­é‡åˆçš„æƒ…å†µï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚è¿™ç§æƒ…å†µç®—å‡ºæ¥çš„PSIä¼šå°äºçœŸå®å€¼ï¼Œæ­¤æ—¶å¯ä»¥é‡‡ç”¨ç­‰è·åˆ†ç®± ç­‰é¢‘åˆ†ç®± droptableifexistsscore_group_nums_weekly;createtablescore_group_nums_weeklyasselectscore,week,score_group,count(no)asnumsfrom(selecta.*,casewhena.score_value\u003c=r.score_array[0]then'r1'whena.score_value\u003c=r.score_array[1]then'r2'whena.score_value\u003c=r.score_array[2]then'r3'whena.score_value\u003c=r.score_array[3]then'r4'whena.score_value\u003c=r.score_array[4]then'r5'whena.score_value\u003c=r.score_array[5]then'r6'whena.score_value\u003c=r.score_array[6]then'r7'whena.score_value\u003c=r.score_array[7]then'r8'whena.score_value\u003c=r.score_array[8]then'r9'whena.score_value\u003c=r.score_array[9]then'r10'endasscore_groupfromscore_value_weeklyaleftjoin(-- 2. ç­‰é¢‘åˆ†ç®± selectscore,percentile_approx(score_value,array(0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1),99999)asscore_arrayfromscore_value_weeklywhereweek=1-- ä»¥ç¬¬ä¸€å‘¨ä¸ºåŸºå‡† groupby1)rona.score=r.score)groupby1,2,3; ç­‰è·åˆ†ç®±ç­‰è·åˆ†ç®±ç›¸æ¯”ç­‰é¢‘åˆ†ç®±è€Œè¨€ç¨å¾®å¤æ‚ç‚¹ï¼Œæˆ‘çš„æ€è·¯æ˜¯å…ˆç®—å‡ºåŸºå‡†æ•°æ®å„ä¸ªæ¨¡å‹åˆ†åŒºé—´çš„ä¸Šä¸‹é™ï¼Œå†ç»Ÿè®¡å„ç®±nums -- 10ä¸ªç®±å­ -- -- ç»Ÿè®¡å„ç®±nums droptableifexistsscore_group_nums_weekly;createtablescore_group_nums_weeklyasselectscore,week,nasscore_group,count(no)asnumsfrom(selecta.*,r.n,casewhena.score_value\u003e=r.range_downanda.score_value\u003cr.range_upthen'Y'whena.score_value=r.range_upthen'Y'else'N'endasis_rangefromscore_value_weeklyaleftjoin(-- åŸºå‡†æœˆå„åˆ†æ•°é—´éš” selectscore,n,min_score,max_score,(min_score+(n-1)*step)asrange_down,(min_score+n*step)asrange_upfrom(selecta.*-- 10 ç®± ,casewhena.score_value=b.min_scorethen1elseceil(10*(a.score_value-b.min_score)/(b.max_score-b.min_score))endasn,b.min_score,b.max_score,b.stepfrom(select*fromscore_value_weeklywhereweek=1)aleftjoin(selectscore,min(score_value)asmin_score,max(score_value)asmax_score-- 10 ä¸ªç®±å­ ,((max(score_value)-min(score_value))/10)asstepfromscore_value_weeklywhereweek=1groupby1)bona.score=b.score)groupby1,2,3,4,5,6)rona.score=r.score)whereis_range='Y'groupby1,2,3; ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:4:2","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"3. è®¡ç®—PSIå›é¡¾ä¸‹å…¬å¼ $$PSI=\\sum_{i=1}^{n}((Actual_i\\% - Expected_i\\%)\\times \\ln(\\frac{Actual_i\\%}{Expected_i\\%}))$$ droptableifexistsscore_stability_result_weekly;createtablescore_stability_result_weeklyasselecta.*,b.psifrom(-- å„ç®±nums selectscore,week,score_group_value[\"r1\"]asr1,score_group_value[\"r2\"]asr2,score_group_value[\"r3\"]asr3,score_group_value[\"r4\"]asr4,score_group_value[\"r5\"]asr5,score_group_value[\"r6\"]asr6,score_group_value[\"r7\"]asr7,score_group_value[\"r8\"]asr8,score_group_value[\"r9\"]asr9,score_group_value[\"r10\"]asr10from(-- è¡Œè½¬åˆ— selectscore,week,str_to_map(concat_ws(',',collect_set(concat_ws(':',score_group,nums))))asscore_group_valuefromscore_group_nums_weeklygroupby1,2))aleftjoin(-- psi selectf.score,f.week,sum((f.act_rate-b.exp_rate)*log(f.act_rate/b.exp_rate))aspsifrom(-- Actual selectscore,week,score_group,(nums/sum(nums)over(partitionbyscore,week))asact_ratefromscore_group_nums_weeklywhereweek\u003e1)fleftjoin(-- Excepted selectscore,week,score_group,(nums/sum(nums)over(partitionbyscore,week))asexp_ratefromscore_group_nums_weeklywhereweek=1)bon(f.score=b.scoreandf.score_group=b.score_group)wheref.score_groupisnotnullandf.score_groupnotin('null','NULL')groupby1,2)bon(a.score=b.scoreanda.week=b.week); ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:4:3","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"å¯è§†åŒ–æœ€åï¼Œå¯ä»¥ç”¨Excelæˆ–BIè½¯ä»¶å®Œæˆå¯¹åº”çš„å¯è§†åŒ– å¯è§†åŒ– æœ¬æ–‡é€‰æ‹©çš„æ˜¯é¢ç§¯å›¾ Pythonä»£ç ç¤ºä¾‹2 ğŸ‘‡ # libraries import numpy as np import matplotlib.pyplot as plt import seaborn as sns import pandas as pd # Make data data = pd.DataFrame({ 'group_A':[1,4,6,8,9], 'group_B':[2,24,7,10,12], 'group_C':[2,8,5,10,6], }, index=range(1,6)) # We need to transform the data from raw data to percentage (fraction) data_perc = data.divide(data.sum(axis=1), axis=0) # Make the plot plt.stackplot(range(1,6), data_perc[\"group_A\"], data_perc[\"group_B\"], data_perc[\"group_C\"], labels=['A','B','C']) plt.legend(loc='upper left') plt.margins(0,0) plt.title('100 % stacked area chart') plt.show() ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:5:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"æ€»ç»“æœ¬æ–‡ä¸»è¦æ˜¯æä¾›äº†é€šè¿‡SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†PSIçš„æ–¹æ¡ˆï¼Œå¹¶é‡‡ç”¨äº†ç­‰é¢‘ã€ç­‰è·åˆ†ç®±ä¸¤ç§åˆ†ç®±æ–¹æ³•ï¼Œå¢åŠ äº†é€‚ç”¨æ€§ ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:6:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "],"content":"Reference https://mwburke.github.io/data%20science/2018/04/29/population-stability-index.htmlÂ â†©ï¸ https://www.python-graph-gallery.com/255-percentage-stacked-area-chartÂ â†©ï¸ ","date":"2021-06-18","objectID":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/:7:0","tags":["Model","SQL","Python"],"title":"SQLè®¡ç®—å¤šä¸ªæ¨¡å‹åˆ†çš„PSI","uri":"/posts/20210619-sql%E8%AE%A1%E7%AE%97psi/"},{"categories":["æ•°æ®åˆ†æ"],"content":"SQL, Python ä¸­è§£å†³è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œçš„é—®é¢˜ åœ¨æ—¥å¸¸å·¥ä½œä¸­æ€»ä¼šé‡åˆ°ç±»ä¼¼ä¸‹å›¾ä¸­çš„é—®é¢˜ ğŸ‘‡ å¤‡æ³¨ æˆ‘æŠŠè¿™ç§æƒ…å†µç§°ä¸º è¡Œè½¬åˆ— ã€ŠPython for Data Analysisã€‹ ä¹¦ä¸­å°†å…¶ç§°ä¸º Pivoting â€œWideâ€ to â€œLongâ€ Format è¿˜æœ‰è¿™ç§é—®é¢˜ ğŸ‘‡ å¤‡æ³¨ æˆ‘æŠŠè¿™ç§æƒ…å†µç§°ä¸º åˆ—è½¬è¡Œ ã€ŠPython for Data Analysisã€‹ ä¹¦ä¸­å°†å…¶ç§°ä¸º Pivoting â€œLongâ€ to â€œWideâ€ Format é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥å°†é’ˆå¯¹æ­¤ç±»é—®é¢˜ï¼Œæ±‡æ€»SQLã€Pythonä¸­çš„å®ç°æ–¹å¼ ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:0:0","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"è¡Œè½¬åˆ— / â€œWideâ€ to â€œLongâ€ ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:1:0","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"SQLè¿è¡Œç¯å¢ƒ åŸºäº spark-2.4.5U3 åŠä»¥ä¸Šç‰ˆæœ¬ selectscore,ym,score_group_value[\"r1\"]asr1,score_group_value[\"r2\"]asr2,score_group_value[\"r3\"]asr3from(selectscore,ym,str_to_map(concat_ws(',',collect_set(concat_ws(':',range_label,nums))))asscore_group_valuefromscore_group_numsgroupby1,2) åŸºæœ¬æ€è·¯æ˜¯å°†è¡¨ä¸­ range_labelå’Œnumsè½¬åŒ–ä¸ºç±»ä¼¼jsonçš„æ ¼å¼ï¼Œä¹‹åé€šè¿‡ key ç´¢å¼•å¾—åˆ°å¯¹åº”çš„value è¿™é‡Œç”¨çš„æ˜¯collect_set()ï¼Œå¾—åˆ°çš„æ˜¯èšåˆã€å»é‡åæ— åºçš„arrayï¼Œè‹¥éœ€è¦æœ‰åºåˆ™å¯ç”¨sort_array() ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:1:1","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"Pythonæ„é€ æ•°æ® df_wide = pd.DataFrame({'score_name': ['ScoreA']*3 ,'ym': ['202012']*3 ,'range_label': ['r1','r2','r3'] ,'nums': [1110,1105,1054]}) df_wide pivot() å‡½æ•° df_wide.pivot(index=['score_name','ym'] ,columns='range_label' ,values=['nums']) ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:1:2","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"åˆ—è½¬è¡Œ / â€œLongâ€ to â€œWideâ€ ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:2:0","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"SQLè¿è¡Œç¯å¢ƒ åŸºäº spark-2.4.5U3 åŠä»¥ä¸Šç‰ˆæœ¬ selectbiz_no,ym,range_label,numsfromscorelateralviewouterexplode(map('r1',r1,'r2',r2,'r3',r3))tasrange_label,nums map ä¹‹åï¼Œç»“åˆ lateral view explode1 å®ç°åˆ—è½¬è¡Œçš„é—®é¢˜ ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:2:1","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"Pythonæ„é€ æ•°æ® df_long = pd.DataFrame({'score_name': ['ScoreA'] ,'ym': ['202012'] ,'r1': [1110] ,'r2': [1105] ,'r3':[1054]}) df_long stack()å‡½æ•° df_long.set_index(['score_name','ym']).stack(dropna=False).reset_index().rename(columns={\"level_2\": \"range_label\",0:\"nums\"}) ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:2:2","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"Reference https://blog.csdn.net/oopsoom/article/details/26001307Â â†©ï¸ ","date":"2021-06-15","objectID":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/:3:0","tags":["SQL","Python"],"title":"è¡Œè½¬åˆ—ã€åˆ—è½¬è¡Œ","uri":"/posts/hql-%E8%A1%8C%E5%88%97%E8%BD%AC%E5%8C%96/"},{"categories":["æ•°æ®åˆ†æ"],"content":"è¯¦è¿°â€œçª—å£â€çš„æ¦‚å¿µï¼Œç»“åˆåˆä¸­æ•°å­¦ä¸­åŒºé—´çš„æ¦‚å¿µæ¥ç†è§£\u003cwindow_frame\u003eï¼Œå¹¶ä»¥è®¡ç®—ç´¯è®¡å æ¯”ä¸ºä¾‹æ·±åŒ–ç†è§£ã€‚æ­¤å¤–ï¼Œä¹Ÿåˆ†äº«äº†ä»–äººæ•´ç†çš„çª—å£å‡½æ•°æ±‡æ€»è¡¨ åŸºäºä¹‹å‰æ•´ç†çš„ æ’åº èšåˆ Positional functions: lead(), lag() åœ¨çª—å£å‡½æ•°åº”ç”¨åœºæ™¯æ–¹é¢ç®—æ˜¯å‘Šä¸€æ®µè½äº†ã€‚ä½†æ˜¯åœ¨ â€œçª—å£â€ è¿™ä¸ªæ¦‚å¿µä¸Šé™ˆè¿°è¾ƒå°‘ï¼Œåœ¨çª—å£å‡½æ•°éƒ¨åˆ†çš„é‡Œç¨‹ç¢‘ä¹‹é™…é‡æ–° â€œå®šä¹‰â€ â€œçª—å£â€ å¦å¤–ï¼Œä¹‹å‰åœ¨æµè§ˆç½‘é¡µçš„æ—¶å€™å‘ç°äº†çª—å£å‡½æ•°çš„æ±‡æ€»å›¾ è€Œæœ¬æ–‡ä¸å›¾ä¸­å¯¹åº”çš„ä¾¿æ˜¯ WINDOW FAME éƒ¨åˆ† ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/:0:0","tags":["SQL"],"title":"çª—å£å‡½æ•°çš„â€œçª—å£â€","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/"},{"categories":["æ•°æ®åˆ†æ"],"content":"å®ç°çš„åŠŸèƒ½ç®€å•æ¥è¯´æ˜¯å®šä¹‰çª—å£å‡½æ•°ä½œç”¨çš„èŒƒå›´ï¼ˆâ€œFRAMEâ€ï¼‰ï¼Œé€šè¿‡ä¸‹é¢è¿™å¼ å›¾1å¯ä»¥æ›´å¥½çš„äº†è§£ FRAME çš„æ¦‚å¿µ ä¸€èˆ¬è€Œè¨€ï¼Œ ä¸€å¼ è¡¨ï¼ˆTableï¼‰åŸºäºWHEREæ¡ä»¶çš„ä½œç”¨å¾—åˆ°å›¾ä¸­ Result Set éƒ¨åˆ†ï¼› çª—å£å‡½æ•° over() è¯­å¥ä¸­ partitionï¼ˆè‹¥æœ‰ï¼‰å¾—åˆ°å›¾ä¸­ Partition 1â€¦Partition m fram è¯­å¥ï¼ˆè‹¥æœ‰ï¼‰åœ¨partitionåŸºç¡€ä¸Šå¾—åˆ°å›¾ä¸­ Frame 1â€¦Frame n ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/:1:0","tags":["SQL"],"title":"çª—å£å‡½æ•°çš„â€œçª—å£â€","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/"},{"categories":["æ•°æ®åˆ†æ"],"content":"è¯­æ³•ã€è§„åˆ™ \u003cwindow_frame\u003e:=[rows|range|groups]between[unboundedpreceding|\u003cn\u003epreceding|currentrow]and[unboundedfollowing|\u003cn\u003efollowing|currentrow] æ‰¹æ³¨ ç›®å‰ï¼Œåªæœ‰ PostgreSQL 11 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ groups \u003cwindow_frame\u003eè¯­å¥è¡¨æ˜ï¼Œç›¸å¯¹äºå½“å‰è¡Œï¼ˆcurrent rowï¼‰å¯¹åº”çš„å€¼è€Œè¨€ï¼Œè¿˜æœ‰â€œåŒºé—´â€çš„æ¦‚å¿µï¼Œâ€œåŒºé—´â€åˆå—åˆ° rowsæˆ–range æ§åˆ¶ï¼šæ˜¯è¡Œæ•°èŒƒå›´è¿˜æ˜¯å€¼çš„èŒƒå›´ã€‚ rows å¯¹åº”æ˜¯è¡Œçš„æ¡ä»¶ å¦‚rows between 1 preceding and unbounded following è¡¨ç¤ºæœ€ç»ˆçš„èŒƒå›´æ˜¯æ’åºåï¼ˆè‹¥æœ‰ï¼‰ï¼ŒåŸºäºå½“å‰è¡Œçš„ä¸Š 1 è¡Œå’Œè¯¥partitionæœ¬èº«çš„æœ€åä¸€è¡Œ range å¯¹åº”æ˜¯å€¼çš„èŒƒå›´ å¦‚range between 1 preceding and 2 following è¿™é‡Œæˆ‘ä»¬éµå¾ªå°å­¦æ•°å­¦ä¸­åŒºé—´çš„æ€§è´¨ï¼šå·¦åŒºé—´çš„å€¼å°äºç­‰äºå³åŒºé—´çš„å€¼ å› ä¸ºæ¶‰åŠåˆ°å€¼çš„èŒƒå›´ï¼Œè¿™é‡Œå°±è¦åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºäº†ï¼Œå‡è®¾å½“å‰è¡Œå¯¹åº”çš„å€¼ä¸º x é¡ºåºæ’åºï¼Œå³ä»å°åˆ°å¤§ï¼Œorder by column asc [x-1,x+2]ï¼Œå·¦åŒºé—´ä¸ºå½“å‰è¡Œçš„å€¼å‡1ï¼ˆx-1ï¼‰ï¼›å³åŒºé—´ä¸ºå½“å‰è¡Œçš„å€¼åŠ 2ï¼ˆx+2ï¼‰ é€†åºæ’åºï¼Œå³ä»å¤§åˆ°å°ï¼Œorder by column desc [x-2,x+1]ï¼Œå·¦åŒºé—´ä¸ºå½“å‰è¡Œçš„å€¼å‡2ï¼ˆx-2ï¼‰ï¼›å³åŒºé—´ä¸ºå½“å‰è¡Œçš„å€¼åŠ 1ï¼ˆx+1ï¼‰ æœ€åå†è¯´æ˜ä¸‹æ²¡æœ‰ \u003cwindow_frame\u003e è¯­å¥æ—¶å¯¹åº”çš„Frameï¼Œæ­¤æ—¶å°†å–å†³äºæ˜¯å¦æœ‰order byè¯­å¥ï¼Œå³ æ—  \u003cwindow_frame\u003e è¯­å¥ã€æœ‰ order by è¯­å¥ Frame ä¸º range between unbounded preceding and current row å³Frameçš„ç¬¬ä¸€è¡Œä¸ºè¯¥partitionçš„ä¸Šè¾¹ç•Œï¼Œå½“å‰è¡Œï¼ˆcurrent rowï¼‰ä¸ºä¸‹è¾¹ç•Œ æ—  \u003cwindow_frame\u003e è¯­å¥ã€æ—  order by è¯­å¥ Frame ä¸º rows between unbounded preceding and unbounded following å³Frameçš„è¾¹ç•Œå°±æ˜¯partitionçš„è¾¹ç•Œ å…³äºï¼Œæ— \u003cwindow_frame\u003eè¯­å¥çš„æƒ…å†µï¼Œæ€»ç»“å¦‚ä¸‹ \\ æ—  \u003cwindow_frame\u003e æœ‰ order by range between unbounded preceding and current row æ—  order by rows between unbounded preceding and unbounded following ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/:2:0","tags":["SQL"],"title":"çª—å£å‡½æ•°çš„â€œçª—å£â€","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/"},{"categories":["æ•°æ®åˆ†æ"],"content":"åº”ç”¨ï¼šä¸€ä¸ªä¾‹å­ä¸€å †æ¯æ¶©çš„é™ˆè¿°ï¼Œä¸å¦‚ç›´æ¥æ¥ä¸ªå°ä¾‹å­ï¼šè®¡ç®—ç´¯è®¡å æ¯” å®é™…ä¸šåŠ¡ä¸­ï¼Œåœ¨å®šä¹‰æ¨¡å‹ç›®æ ‡å˜é‡yçš„æ—¶å€™ï¼Œå¾€å¾€ä¹Ÿä¼šç»“åˆæ•°æ®çš„åˆ†å¸ƒã€‚å¦‚ï¼Œé£æ§åœºæ™¯ä¸­å®šä¹‰é€¾æœŸ x å¤©ä»¥ä¸Šä¸ºbad å‡è®¾samples è¡¨ä¸­è®°å½•ç€ä¸€ç¬”è®¢å•çš„é€¾æœŸçŠ¶æ€ï¼Œover_due_days è¡¨ç¤ºé€¾æœŸå¤©æ•° å¸Œæœ›å¾—åˆ°çš„æ•°æ®æ ·å¼å¦‚ä¸‹è¡¨æ‰€ç¤º over_due_days c_sum c_sum_rate 0 1000 1 1 100 0.1 2 90 0.09 3 85 0.085 4 80 0.08 â€¦ â€¦ â€¦ over_due_days ä¸º1çš„é‚£ä¸€è¡Œè¡¨ç¤º $é€¾æœŸå¤©æ•° \\geq 1$çš„è®¢å•æ•°ä»¥åŠå æ€»è®¢å•çš„æ¯”ä¾‹ï¼Œå³ $$c\\_sum\\_rate=\\frac{over\\_due\\_days \\geq 1 çš„è®¢å•æ•°}{æ€»è®¢å•æ•°}$$ selectover_due_days,sum(nums)over(orderbyover_due_daysnullslastrangebetweencurrentrowandunboundedfollowing)asc_sum,sum(nums)over(orderbyover_due_daysnullslastrangebetweencurrentrowandunboundedfollowing)/(selectcount(1)fromsamples)asc_sum_ratefrom(-- åˆ†é€¾æœŸå¤©æ•°ç»Ÿè®¡è®¢å•æ•°é‡ selectover_due_days,count(1)asnumsfromsamplesgroupby1); ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/:3:0","tags":["SQL"],"title":"çª—å£å‡½æ•°çš„â€œçª—å£â€","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ€»ç»“æœ¬æ–‡ä¾¿æ˜¯çª—å£å‡½æ•°éƒ¨åˆ†çš„â€œæ”¶å®˜ä¹‹ä½œâ€äº†ã€‚ ä¸»è¦æ˜¯å¯¹â€œçª—å£â€çš„æ¦‚å¿µå±•å¼€äº†è¯¦ç»†çš„é™ˆè¿°ï¼Œç»“åˆåˆä¸­æ•°å­¦ä¸­åŒºé—´çš„æ¦‚å¿µæ¥ç†è§£\u003cwindow_frame\u003eï¼Œå¹¶ä»¥è®¡ç®—ç´¯è®¡å æ¯”ä¸ºä¾‹æ·±åŒ–ç†è§£ã€‚æ­¤å¤–ï¼Œä¹Ÿåˆ†äº«äº†ä»–äººæ•´ç†çš„çª—å£å‡½æ•° ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/:4:0","tags":["SQL"],"title":"çª—å£å‡½æ•°çš„â€œçª—å£â€","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/"},{"categories":["æ•°æ®åˆ†æ"],"content":"Reference https://en.wikibooks.org/wiki/Structured_Query_Language/Window_functionsÂ â†©ï¸ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/:5:0","tags":["SQL"],"title":"çª—å£å‡½æ•°çš„â€œçª—å£â€","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E7%AA%97%E5%8F%A3/"},{"categories":["æ•°æ®åˆ†æ"],"content":"ä»¥ â€œè®¡ç®—å½“å‰å’Œä¸Šä¸€æ¬¡äº‹ä»¶çš„æ—¶é—´é—´éš”â€ å¼•å…¥ positional function æˆªæ­¢åˆ°ç›®å‰ï¼Œçª—å£å‡½æ•°æ•´ç†äº†èšåˆã€æ’åºåœºæ™¯ï¼Œè§£å†³äº†â€œç»„å†…å æ¯”â€ã€â€œå®šä½è¿ç»­3å¤©ç™»å½•ç”¨æˆ·â€ç­‰é—®é¢˜ åœ¨å¹³æ—¶çš„åˆ†æå·¥ä½œä¸­ï¼Œè¿˜æœ‰ä¸ªæ¯”è¾ƒå¸¸è§çš„é—®é¢˜ï¼šè®¡ç®—å½“å‰å’Œä¸Šä¸€æ¬¡äº‹ä»¶çš„æ—¶é—´é—´éš”ã€‚æ¯”å¦‚ï¼Œç›¸é‚»ä¸¤æ¬¡å¤–å‘¼çš„æ—¶é—´é—´éš” è¿™ä¸ªæ—¶å€™ï¼Œlead() æˆ– lag() å‡½æ•°å¯è¾ƒä¸ºæ–¹ä¾¿çš„è§£å†³è¯¥ç±»é—®é¢˜ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/:0:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-Positional Functions","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/"},{"categories":["æ•°æ®åˆ†æ"],"content":"å®ç°çš„åŠŸèƒ½lead(), lag() å®ç°çš„åŠŸèƒ½æ¯”è¾ƒç±»ä¼¼ã€‚ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/:1:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-Positional Functions","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/"},{"categories":["æ•°æ®åˆ†æ"],"content":"lead() ä¸Šç§» selectseller_name,sale_value,lead(sale_value)over(orderbysale_value)asnext_sale_valuefromsale; ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/:1:1","tags":["SQL"],"title":"çª—å£å‡½æ•°-Positional Functions","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/"},{"categories":["æ•°æ®åˆ†æ"],"content":"lag() ä¸‹ç§» selectseller_name,sale_value,lag(sale_value)over(orderbysale_value)asprevious_sale_valuefromsale; ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/:1:2","tags":["SQL"],"title":"çª—å£å‡½æ•°-Positional Functions","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/"},{"categories":["æ•°æ®åˆ†æ"],"content":"åŸºæœ¬è¯­æ³• lag(expression[,offset[,default_value]])over([partitionbyexpr1,expr2,...]orderbyexpr1[asc|desc],expr2[asc|desc],...)lead(expression[,offset[,default_value]])over([partitionbyexpr1,expr2,...]orderbyexpr1[asc|desc],expr2[asc|desc],...) lead(), lag() ä¸­çš„3ä¸ªå‚æ•°ï¼š expression - string è¢«æ“ä½œçš„åˆ—å offset - int ç§»åŠ¨çš„è¡Œæ•°ï¼ˆ/åç§»é‡ï¼‰ default_value å®šä¹‰ä¸ºç©ºçš„æƒ…å†µèµ‹ç»™çš„é»˜è®¤å€¼ å…¶ä¸­ï¼Œå‚æ•° expression æ˜¯å¿…é¡»çš„ã€‚è€Œ default_valueï¼ˆé»˜è®¤æ˜¯ NULLï¼‰ æ˜¯åªæœ‰å½“ offsetï¼ˆé»˜è®¤æ˜¯ 1ï¼‰ æœ‰å€¼æ—¶æ‰èƒ½ä½¿ç”¨ over() è¯­å¥ä¸­ï¼Œorder by æ˜¯å¿…é¡»è¦æœ‰çš„ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/:2:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-Positional Functions","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/"},{"categories":["æ•°æ®åˆ†æ"],"content":"åº”ç”¨è®¡ç®—ç”¨æˆ·ç›¸é‚»ä¸¤æ¬¡ç™»å½•çš„å¤©æ•°é—´éš” -- å¦‚æœåªæœ‰1å¤©æœ‰ç™»å½•ä¿¡æ¯ï¼Œåˆ™ diff_days ä¸º null select*,datediff(session_date,lag_session_date)asdiff_daysfrom(-- ä¸‹ç§» select*,lag(session_date)over(partitionbyuser_idorderbysession_dateasc)aslag_session_datefrom(-- æŒ‰å¤©å»é‡ selectuser_id,date_format(session_time,'yyyyMMdd')assession_datefromtable1groupby1,2)); çª—å£å‡½æ•°è¿˜æœ‰ä¿©å¸¸è§çš„ï¼šfirst_value(), last_value()ï¼Œåœ¨æ­¤å°±ç•¥è¿‡äº†ã€‚ æœ‰æ—¶å€™å¯ä»¥ç”¨ row_number() over() ç»“åˆ having ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚ ç¡®å®šç”¨æˆ·æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´ selectuser_id,row_number()over(orderbysession_datedesc)asrkfromtable1havingrk=1; ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/:3:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-Positional Functions","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-positionalfunctions/"},{"categories":["æ•°æ®åˆ†æ"],"content":"â€œæŠ›â€ è®¡ç®—ç»„å†…å æ¯” â€œå¼•â€ èšåˆçª—å£å‡½æ•° çª—å£å‡½æ•°ä¸­ æ±‚å’Œï¼ˆsumï¼‰ã€å‡å€¼ï¼ˆavgï¼‰ã€æå€¼ï¼ˆmax, minï¼‰ã€è®¡æ•°ï¼ˆcountï¼‰ç­‰ç»“åˆèšåˆå‡½æ•°ä½¿ç”¨çš„åœºæ™¯ä¹Ÿè¾ƒå¤šã€‚ æ•°æ®åˆ†æè¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°è®¡ç®—ç»„å†…å æ¯”çš„æƒ…å†µã€‚ Example è®¡ç®— å¤šä¸ªæ¨¡å‹åˆ†ä»¥åŠå¤šä¸ªæ—¶é—´æ®µ çš„ psi æ—¶ï¼Œï¼ˆç­‰é¢‘/ç­‰è·ï¼‰åˆ†ç®±ä¹‹åè®¡ç®—å„ç®±æ ·æœ¬å æ€»æ ·æœ¬æ•°çš„ç™¾åˆ†æ¯” ç¤ºä¾‹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œ model ym bucket act_rate A 202103 1 0.1209 A 202103 2 0.1148 A 202103 3 0.1089 A 202103 4 0.1041 A 202103 5 0.1004 A 202103 6 0.0983 A 202103 7 0.0984 A 202103 8 0.0937 A 202103 9 0.0892 A 202103 10 0.0714 æ¯”è¾ƒæ–¹ä¾¿çš„æ“ä½œæ–¹å¼å°±æ˜¯ç»“åˆ sum() over() å‡½æ•°è®¡ç®—ç»„å†…å æ¯”ã€‚ selectmodel,ym,bucket,(nums/sum(nums)over(partitionbymodel,ym))asact_ratefrommodel_bucket_nums å…¶ä»–å‡ ä¸ªèšåˆå‡½æ•°åªæ˜¯å®ç°çš„åŠŸèƒ½ä¸åŒï¼Œæœ€åè¿˜æ˜¯è¦å„å–æ‰€éœ€äº†ã€‚ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E8%81%9A%E5%90%88/:0:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-èšåˆ","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E8%81%9A%E5%90%88/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ•´ç†æ’åºåœºæ™¯å¸¸ç”¨å‡½æ•°ï¼Œrow_number() over(), rank() over(), dense_rank() over(), ntile(n) over()ï¼Œå¹¶ä»¥è¿ç»­ç™»å½•é—®é¢˜ä¸ºä¾‹æ·±åŒ–ç†è§£ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:0:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"row_number() over()","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:1:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"å®ç°çš„åŠŸèƒ½ä»1å¼€å§‹ä¾æ¬¡æ’åºï¼Œç”Ÿæˆä¸ä¼šé‡å¤çš„ç¼–å· -- æŒ‰ç…§nums åˆ—ï¼Œé™åºæ’åº selectid,nums,row_number()over(orderbynumsdesc)asrankfromtable id nums rank 1x 45 3 2x 78 2 3x 87 1 4x 32 4 ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:1:1","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"è¯­æ³• row_number()over([partitionbyexpr1,expr2,...]orderbyexpr1[asc|desc],expr2[asc|desc],...) partition byè¡¨ç¤ºåŸºäºæŸï¼ˆäº›ï¼‰ç»´åº¦ï¼ˆ/åˆ—ï¼‰åˆ†ç»„ä¹‹åï¼Œå†åŸºäºorder byçš„è§„åˆ™å®ç°ç»„å†…æ’åºã€‚ select id ,nums ,row_number() over(partition by id order by nums desc) as rank from table ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:1:2","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"åº”ç”¨é—®é¢˜ å¦‚ä½•ç¡®å®šè¿ç»­ç™»å½•å¤©æ•°è¶…è¿‡3å¤©çš„ç”¨æˆ· æ€è·¯ æ‰¾åˆ°è¿ç»­3å¤©ç™»å½•ç”¨æˆ·æ‰€è¡¨ç°çš„æ•°æ®ç‰¹å¾ã€‚æ¯”å¦‚ï¼ŒæŒ‰ç…§ç™»å½•æ—¥æœŸæ’åºå¾—åˆ°ç¼–å·ï¼Œä¸¤è€…ä½œå·®ï¼Œè‹¥è¿ç»­ç™»å½•åˆ™ä½œå·®åçš„å€¼æ˜¯ä¸€æ ·çš„ åŸºäºè¿™ä¸ªç°è±¡ï¼Œå¯ç”¨row_numberå®ç° selectuser_id,(session_date-rk)asdiff,count(1)asnumsfrom(select*,row_number()over(partitionbyuser_idorderbysession_date)asrkfrom(-- æŒ‰å¤©å»é‡ selectuser_id,date_format(session_time,'yyyyMMdd')assession_datefromtable1groupby1,2))groupby1,2havingnums\u003e=3; ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:1:3","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"rank() over()åŸºæœ¬è¯­æ³•ç±»ä¼¼äºrow_number() rank()over([partitionbyexpr1,expr2,...]orderbyexpr1[asc|desc],expr2[asc|desc],...) ä½†ä¸åŒçš„æ˜¯ï¼Œå½“å€¼ç›¸ç­‰æ—¶ rank() æ’åºä¼šå‡ºç°é‡å¤åºå·çš„æƒ…å†µï¼Œä¸”ä¸‹ä¸ªåºå·å’Œå½“å‰åºå·ä¹‹å·®ä¸ºå½“å‰ç›¸åŒå€¼çš„ä¸ªæ•° ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:2:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"ç¤ºä¾‹ selectdealer_id,emp_name,sales,rank()over(orderbysales)asrkfromq1_sales; dealer_id emp_name sales rank 1 Raphael Hull 8227 1 3 May Stout 9308 2 2 Haviva Montoya 9308 2 1 Jack Salazar 9710 4 3 Abel Kim 12369 5 3 Ursa George 15427 6 2 Beverly Lang 16233 7 2 Kameko French 16233 7 1 Ferris Brown 19745 9 1 Noel Meyer 19745 9 ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:2:1","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"dense_rank() over()row_number() over() ã€ rank() over() å’Œ dense_rank() over() ä¹‹é—´çš„å·®åˆ«ä¸»è¦åœ¨äºå¯¹ç›¸åŒå€¼çš„åºå·å¤„ç†æ–¹å¼ä¸åŒã€‚ å’Œrank() over()ä¸€æ ·ï¼Œé‡åˆ°ç›¸åŒå€¼æ—¶åºå·ä¼šé‡å¤ï¼Œä½†æ˜¯dense_rank() over() çš„ä¸‹ä¸€ä¸ªåºå·å’Œå½“å‰åºå·ä¹‹å·®ä¾ç„¶æ˜¯1ï¼Œä¸ä¼šå‡ºç°ç©ºä½çš„æƒ…å†µã€‚ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:3:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"ç¤ºä¾‹ selectdealer_id,emp_name,sales,dense_rank()over(orderbysales)asdenserankfromq1_sales; dealer_id emp_name sales denserank 1 Raphael Hull 8227 1 3 May Stout 9308 2 2 Haviva Montoya 9308 2 1 Jack Salazar 9710 3 3 Abel Kim 12369 4 3 Ursa George 15427 5 2 Beverly Lang 16233 6 2 Kameko French 16233 6 1 Ferris Brown 19745 7 1 Noel Meyer 19745 7 ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:3:1","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"ntile(n) over()ntile(n) over() å’Œä¹‹å‰é‚£ä¸‰ä¸ªæ’åºå‡½æ•°ä¸å¤ªä¸€æ ·ã€‚å½¢å¼æ¥çœ‹ï¼Œå¤šäº†ä¸ªå‚æ•°nï¼Œæ˜¯æŒ‡æŒ‰ç…§é¡ºåºå¹³å‡åˆ†æˆnä»½ï¼ˆ/ç®±ï¼‰ï¼Œè¿”å›å½“å‰æ‰€åœ¨çš„ä½ç½®ã€‚ä¸”éœ€è¦order by è¯­å¥ã€‚ ä½†å¯¹äºä¸èƒ½å®ç°å¹³å‡åˆ†çš„æƒ…å†µï¼Œä¼šåŸºäºçº¦å®šæ¥æ“ä½œï¼š çº¦å®š æ¯ç®±è®°å½•æ•°ä¸èƒ½å¤§äºä¸Šä¸€ä¸ªç®±å­çš„è®°å½•æ•°ã€‚å³ç¬¬1ç»„çš„è®°å½•æ•°å¤§äºç­‰äºç¬¬2ç»„çš„è®°å½•æ•°ã€‚ æ‰€æœ‰ç®±å­çš„è®°å½•æ•°è¦ä¹ˆç›¸åŒã€‚è¦ä¹ˆä»æŸä¸€è®°å½•æ•°è¾ƒå°‘çš„ç®±å­ï¼ˆå‘½åä¸ºXï¼‰å¼€å§‹ï¼Œåé¢æ‰€æœ‰ç®±å­å†…çš„è®°å½•æ•°éƒ½ä¸è¯¥ç®±ï¼ˆXï¼‰çš„è®°å½•æ•°ç›¸åŒã€‚å³å¦‚æœå‰3ç®±çš„è®°å½•æ•°éƒ½æ˜¯9ï¼Œè€Œç¬¬4ç®±çš„è®°å½•æ•°æ˜¯8ï¼Œé‚£ä¹ˆç¬¬5ã€6ç®±åŠå…¶ä¹‹åç®±å­å†…çš„è®°å½•æ•°ä¹Ÿå¿…é¡»æ˜¯8ã€‚ æ³¨æ„ æœ€å…ˆåˆ†å‡ºæ¥çš„ç®±å­ï¼Œé‡‡å–å‘ä¸Šå–æ•´ï¼ˆceil()ï¼‰çš„æ–¹å¼ æ¯”å¦‚ï¼Œ53æ¡è®°å½•ï¼ŒåŸºäºntileçš„çº¦å®šåˆ†åˆ°5ä¸ªç®±å­ï¼Œåˆ™æ¯ä¸ªç®±å­çš„è®°å½•æ•°å¦‚ä¸‹æ‰€ç¤º bucket nums 1 11 2 11 3 11 4 10 5 10 å¤‡æ³¨ ntileçš„æ–¹æ³•èƒ½è¾ƒå¥½å®ç°ç­‰é¢‘çš„æ•ˆæœï¼Œç›¸æ¯”åˆ†ä½æ•°ä½œä¸ºåˆ†å‰²ç‚¹è€Œè¨€ï¼Œä¸æ˜“å—æ•°æ®åˆ†å¸ƒçš„å½±å“ã€‚ ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:4:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"ç¤ºä¾‹ selectemp_mgr,sales,ntile(5)over(orderbysales)asntilerankfromq1_sales; emp_mgr sales ntilerank Kari Phelps 8227 1 Rich Hernandez 9308 1 Kari Phelps 9710 2 Rich Hernandez 12369 2 Mike Palomino 13181 3 Rich Hernandez 15427 3 Kari Phelps 15547 4 Mike Palomino 16233 4 Dan Brodi 19745 5 Mike Palomino 23176 5 ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:4:1","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ€»ç»“ çª—å£å‡½æ•° è¿”å›ç±»å‹ æè¿° row_number() int ä»1å¼€å§‹ä¾æ¬¡æ’åºï¼Œç”Ÿæˆä¸ä¼šé‡å¤çš„åºå· rank() int ä»1å¼€å§‹ä¾æ¬¡æ’åºã€‚è‹¥å€¼ç›¸ç­‰åˆ™å¾—åˆ°åŒæ ·çš„åºå·ï¼›ä¸”ä¸‹ä¸€ä¸ªåºå·å°†ä¼šå‡ºç°ç©ºä½ï¼Œå³è‹¥2ä¸ªç›¸ç­‰çš„å€¼åºå·æ˜¯1ï¼Œåˆ™ä¸‹ä¸€ä¸ªåºå·æ˜¯3 dense_rank() int ä»1å¼€å§‹ä¾æ¬¡æ’åºã€‚è‹¥å€¼ç›¸ç­‰åˆ™å¾—åˆ°åŒæ ·çš„åºå·ï¼›ä½†ä¸‹ä¸€ä¸ªåºå·ä¸ä¼šå‡ºç°ç©ºä½ï¼Œå³è‹¥2ä¸ªç›¸ç­‰çš„å€¼åºå·æ˜¯1ï¼Œåˆ™ä¸‹ä¸€ä¸ªåºå·ä¾ç„¶æ˜¯2 ntile(n) int å°†åˆ†ç»„æ•°æ®æŒ‰ç…§é¡ºåºå¹³å‡åˆ†æˆnç®±ï¼Œè¿”å›å½“å‰å€¼æ‰€åœ¨ä½ç½®ï¼Œn-th ","date":"2021-06-09","objectID":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/:5:0","tags":["SQL"],"title":"çª—å£å‡½æ•°-æ’åº","uri":"/posts/hql-%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-%E6%8E%92%E5%BA%8F/"},{"categories":["æ•°æ®åˆ†æ"],"content":"ä»¥å®˜æ–¹ä¾‹å­ï¼šå¾®åšè½¬å‘å…³ç³»å›¾ä¸ºä¾‹ï¼Œè¯´æ˜æ‰€éœ€è¦çš„æ•°æ®æ ¼å¼ ","date":"2021-06-07","objectID":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/:0:0","tags":["å¯è§†åŒ–","pyecharts","Python"],"title":"pyecharts-å…³ç³»å›¾","uri":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ•°æ®æ ·ä¾‹ import json from pyecharts import options as opts from pyecharts.charts import Graph with open(\"weibo.json\", \"r\", encoding=\"utf-8\") as f: j = json.load(f) nodes, links, categories, cont, mid, userl = j c = ( Graph(init_opts=opts.InitOpts(width=\"1920px\" ,height=\"1080px\")) .add( \"\", nodes, links, categories, repulsion=900, # èŠ‚ç‚¹ä¹‹é—´çš„æ–¥åŠ›å› å­ã€‚å€¼è¶Šå¤§åˆ™æ–¥åŠ›è¶Šå¤§ # æ”¯æŒè®¾ç½®æˆæ•°ç»„è¡¨è¾¾æ–¥åŠ›çš„èŒƒå›´ï¼Œæ­¤æ—¶ä¸åŒå¤§å°çš„å€¼ä¼šçº¿æ€§æ˜ å°„åˆ°ä¸åŒçš„æ–¥åŠ›ã€‚ gravity=0.01, # èŠ‚ç‚¹å—åˆ°çš„å‘ä¸­å¿ƒçš„å¼•åŠ›å› å­ã€‚è¯¥å€¼è¶Šå¤§èŠ‚ç‚¹è¶Šå¾€ä¸­å¿ƒç‚¹é æ‹¢ã€‚ linestyle_opts=opts.LineStyleOpts(curve=0.2), label_opts=opts.LabelOpts(is_show=False), ) .set_global_opts( legend_opts=opts.LegendOpts(is_show=False), title_opts=opts.TitleOpts(title=\"Graph-å¾®åšè½¬å‘å…³ç³»å›¾\"), ) .render(\"graph_weibo.html\") ) weibo.json æ–‡ä»¶ï¼Œå¯ä» è¿™å„¿ è·å– ä¸»è¦ç”±5éƒ¨åˆ†ç»„æˆ nodes links categories cont mid userl ","date":"2021-06-07","objectID":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/:1:0","tags":["å¯è§†åŒ–","pyecharts","Python"],"title":"pyecharts-å…³ç³»å›¾","uri":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ ¼å¼è¯´æ˜è¯´æ˜ æœ¬æ–‡èšç„¦åœ¨å‰ä¸‰ä¸ªçš„æ•°æ®æ ¼å¼è¯´æ˜ã€‚æ¯ä¸€éƒ¨åˆ†æ˜¯ä¸ªlistï¼Œæ¯ä¸ªlist åˆç”±å¤šä¸ªdictç»„æˆ ä»¥â€œè½¬å‘å¾®åšâ€ä½œä¸ºåœºæ™¯ç®€å•é˜è¿°å…³ç³»å›¾æ‰€å±•ç¤ºçš„ä¿¡æ¯ï¼šæŸä½å…·æœ‰å½±å“åŠ›çš„å¾®åšç”¨æˆ·A å‘äº†æ¡å¾®åšï¼Œè¢«ç”¨æˆ·Bã€Cã€Dçœ‹åˆ°å¹¶è½¬å‘äº†ï¼›ä¹‹åï¼Œç”¨æˆ·Eã€Fã€Gä¹Ÿè½¬å‘äº†Bæ‰€è½¬å‘çš„è¿™ç¯‡æ–‡ç« ï¼Œä»¥æ­¤ç±»æ¨ é‚£ä¹ˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠåˆ°çš„æ¯ä¸ªç”¨æˆ·ä¾¿æ˜¯ä¸€ä¸ªnodeã€‚ä¸ºæ­¤ï¼Œä¹Ÿä»¥ nodesä½œä¸ºåˆ‡å…¥ç‚¹å±•å¼€è¯´æ˜ ","date":"2021-06-07","objectID":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/:2:0","tags":["å¯è§†åŒ–","pyecharts","Python"],"title":"pyecharts-å…³ç³»å›¾","uri":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/"},{"categories":["æ•°æ®åˆ†æ"],"content":"nodesæ ·ä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼Œ è®°å½•ç€èŠ‚ç‚¹çš„ä¿¡æ¯12ï¼Œ { \"name\": \"Camel3942\", # èŠ‚ç‚¹åç§°ï¼Œå³åšä¸»æ˜µç§° \"symbolSize\": 5, # å›¾ä¸­æ ‡å¿—å¤§å° \"draggable\": \"False\", # æ˜¯å¦å¯æ‹–åŠ¨ \"value\": 1, # è¢«å†æ¬¡è½¬å‘æ¬¡æ•° \"category\": \"Camel3942\", # From Where \"label\": { # æ­¤åšä¸»è¢«å†æ¬¡è½¬å‘åï¼Œå«æœ‰æ­¤æ ‡ç­¾ï¼Œå¦åˆ™ä¸å« \"normal\": { \"show\": \"True\" } } } è­¦å‘Š èŠ‚ç‚¹åç§°ï¼ˆnameï¼‰ä¸èƒ½é‡å¤ ","date":"2021-06-07","objectID":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/:2:1","tags":["å¯è§†åŒ–","pyecharts","Python"],"title":"pyecharts-å…³ç³»å›¾","uri":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/"},{"categories":["æ•°æ®åˆ†æ"],"content":"linksä¸ªäººç†è§£ä½œç”¨æ˜¯å°†æ¯ä¸ªnode è¿æ¥èµ·æ¥ { \"source\": \"æ–°æµªä½“è‚²\", \"target\": \"Beijingold4\" }, { \"source\": \"Camel3942\", \"target\": \"xiaoA\" } ","date":"2021-06-07","objectID":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/:2:2","tags":["å¯è§†åŒ–","pyecharts","Python"],"title":"pyecharts-å…³ç³»å›¾","uri":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/"},{"categories":["æ•°æ®åˆ†æ"],"content":"categoriesè€Œè¿™éƒ¨åˆ†åˆ™è®°å½•ç€æœ‰è¢«ä»–äººè½¬å‘çš„ç”¨æˆ·åç§°ï¼ˆnameï¼‰ï¼Œå³ links ä¸­ source æ‰€å¯¹åº”çš„å†…å®¹ { \"name\": \"æ–°æµªä½“è‚²\" }, { \"name\": \"Camel3942\" } ","date":"2021-06-07","objectID":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/:2:3","tags":["å¯è§†åŒ–","pyecharts","Python"],"title":"pyecharts-å…³ç³»å›¾","uri":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/"},{"categories":["æ•°æ®åˆ†æ"],"content":"Reference https://blog.csdn.net/qq_35006861/article/details/116721589Â â†©ï¸ https://blog.csdn.net/Kevin_HZH/article/details/91043392Â â†©ï¸ ","date":"2021-06-07","objectID":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/:3:0","tags":["å¯è§†åŒ–","pyecharts","Python"],"title":"pyecharts-å…³ç³»å›¾","uri":"/posts/20210607-%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%85%B3%E7%B3%BB%E5%9B%BE/"},{"categories":["æ•°æ®åˆ†æ"],"content":"åˆ†åœºæ™¯æ±‡æ€»æ—¥æœŸå‡½æ•° å·¥ä½œä¸­æ€»ä¼šé‡åˆ°å¤„ç†æ—¶é—´çš„é—®é¢˜ï¼Œå‚è€ƒè¥é”€ç†è®ºä¸­åŸºäºåˆ©ç›Šç»†åˆ†çš„å¸‚åœºç»†åˆ†ç†è®ºï¼Œæˆ‘ä»ä½¿ç”¨åœºæ™¯çš„è§’åº¦å‡ºå‘ï¼Œå°†å¸¸ç”¨çš„æ—¥æœŸå‡½æ•°åˆ†ä¸ºå››å¤§ç±»ï¼š æ—¶é—´è®¡ç®— æ—¶é—´æå– æ ¼å¼è½¬æ¢ å½“å‰æ—¶é—´ Tip æœ¬æ–‡é‡ç‚¹åœ¨äºæ•´åˆæ—¥æœŸå‡½æ•° ","date":"2021-06-06","objectID":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/:0:0","tags":["SQL"],"title":"Spark, Hive QL-æ—¥æœŸå‡½æ•°æ±‡æ€»","uri":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ—¶é—´è®¡ç®—è¿™éƒ¨åˆ†ä¸»è¦æ˜¯è®¡ç®—æ—¶é—´å·®ï¼ˆdatediff(end_date,start_date), months_between(date1,date2)ï¼‰ã€æ—¶é—´åŠ å‡ï¼ˆdate_add(),date_sub(),add_months()ï¼‰ç­‰ ","date":"2021-06-06","objectID":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/:1:0","tags":["SQL"],"title":"Spark, Hive QL-æ—¥æœŸå‡½æ•°æ±‡æ€»","uri":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ—¶é—´æå–æå–æ—¶é—´æˆ³çš„å¹´ã€å­£åº¦ã€æœˆã€å‘¨ã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’ å¯ä»¥ç›´æ¥è°ƒç”¨å¯¹åº”çš„å‡½æ•°ï¼Œä¹Ÿå¯ä½¿ç”¨extract(field from column_name) å‡½æ•°æŒ‡å®š fieldï¼Œå…¶ä¸­field æ”¯æŒday, dayofweek, hour, minute, month, quarter, second, week and year. ","date":"2021-06-06","objectID":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/:2:0","tags":["SQL"],"title":"Spark, Hive QL-æ—¥æœŸå‡½æ•°æ±‡æ€»","uri":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ ¼å¼è½¬æ¢æœ‰æ—¶ä¸ºäº†é€‚åº”ä¸åŒæ—¶é—´æ ¼å¼çš„éœ€æ±‚ï¼Œéœ€è¦åšä¸ªè½¬æ¢ï¼Œå¦‚yyyy-MM-dd æˆ– yyyy-MM-dd HH:mm:ssçš„å½¢å¼è½¬ä¸ºyyyyMMdd ç­‰ å¸¸ç”¨ï¼š to_date() è¿”å› date å½¢å¼çš„æ—¥æœŸï¼Œå³yyyy-MM-dd date_format() è½¬ä¸ºæŒ‡å®šæ ¼å¼çš„æ—¶é—´ï¼Œå¦‚ date_format('2015-04-08','y') =\u003e '2015' ","date":"2021-06-06","objectID":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/:3:0","tags":["SQL"],"title":"Spark, Hive QL-æ—¥æœŸå‡½æ•°æ±‡æ€»","uri":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/"},{"categories":["æ•°æ®åˆ†æ"],"content":"å½“å‰æ—¶é—´è‹¥éœ€è¦æ—¶é—´æˆ³æ ¼å¼ï¼Œåˆ™ç”¨current_timestamp è‹¥åªéœ€è¦ç²¾ç¡®åˆ°å¤©ï¼Œå³dateæ ¼å¼ï¼Œåˆ™ç”¨current_date ","date":"2021-06-06","objectID":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/:4:0","tags":["SQL"],"title":"Spark, Hive QL-æ—¥æœŸå‡½æ•°æ±‡æ€»","uri":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/"},{"categories":["æ•°æ®åˆ†æ"],"content":"æ€»ç»“æœ¬æ–‡é‡ç‚¹åœ¨äºä»ä½¿ç”¨åœºæ™¯çš„è§’åº¦å‡ºå‘ï¼Œæ•´åˆäº†hive, spark ç¯å¢ƒä¸‹å¸¸ç”¨çš„æ—¥æœŸå‡½æ•°ã€‚æœ€åå†ä»¥è¡¨æ ¼çš„å½¢å¼ç®€å•æ±‡æ€» åœºæ™¯ å‡½æ•° è¿”å›å€¼ç±»å‹ æè¿° ç¤ºä¾‹ å½“å‰æ—¶é—´ unix_timestamp() bigint å½“å‰ Unixæ—¶é—´æˆ³ï¼ˆe.g. 1622451519 ï¼‰ï¼Œä½†å› æŸ¥è¯¢ä¼˜åŒ–é—®é¢˜æ¨èä½¿ç”¨ current_timestamp å½“å‰æ—¶é—´ current_date date å½“å‰æ—¥æœŸ 2021-05-31 å½“å‰æ—¶é—´ current_timestamp timestamp å½“å‰æ—¶é—´æˆ³ 2021-05-31 17:12:14.968 - - - - - æ ¼å¼è½¬æ¢ from_unixtime(bigint unixtime[, string format]) string æ•°å­—è½¬ä¸ºæ ¼å¼å½¢å¦‚ 2021-05-31 17:12:14 çš„å­—ç¬¦ä¸² æ ¼å¼è½¬æ¢ to_date(string timestamp) date to_date(yyyy-MM-dd HH:mm:ss) =\u003e yyyy-MM-dd æ ¼å¼è½¬æ¢ date_format(date/timestamp/string ts, string fmt) string å¾—åˆ°æŒ‡å®šæ ¼å¼çš„æ—¶é—´ date_format(â€˜2015-04-08â€™, â€˜yâ€™) =\u003e â€˜2015â€™ æ ¼å¼è½¬æ¢ trunc(string date, string format) string å¾—åˆ°è¢«æŒ‡å®šformatæˆªæ–­çš„æ—¥æœŸï¼Œformatæ”¯æŒMONTH/MON/MM, YEAR/YYYY/YY trunc(â€˜2015-03-17â€™, â€˜MMâ€™) =\u003e 2015-03-01 - - - - - æ—¶é—´æå– year(string date) int å¹´ æ—¶é—´æå– quarter(date/timestamp/string) int å­£åº¦ æ—¶é—´æå– weekofyear(string date) int è¯¥å¹´çš„ç¬¬å‡ å‘¨ æ—¶é—´æå– month(string date) int æœˆ æ—¶é—´æå– day(string date) dayofmonth(date) int æ—¥ æ—¶é—´æå– hour(string date) int å°æ—¶ æ—¶é—´æå– minute(string date) int åˆ†é’Ÿ æ—¶é—´æå– second(string date) int ç§’ æ—¶é—´æå– extract(field FROM source) int field æ”¯æŒday, dayofweek, hour, minute, month, quarter, second, week and year. - - - - - æ—¶é—´è®¡ç®— datediff(string enddate, string startdate) int å¤©æ•°å·® datediff(â€˜2009-03-01â€™, â€˜2009-02-27â€™) =\u003e 2 æ—¶é—´è®¡ç®— date_add(date/timestamp/string startdate, tinyint/smallint/int days) date åŠ ï¼ˆå‡ï¼‰xå¤©åçš„æ—¥æœŸ date_add(â€˜2008-12-31â€™, 1) =\u003e 2009-01-01, date_add(â€˜2008-12-31â€™, -1) =\u003e 2008-12-30 æ—¶é—´è®¡ç®— date_sub(date/timestamp/string startdate, tinyint/smallint/int days) date åŠ ï¼ˆå‡ï¼‰xå¤©åçš„æ—¥æœŸ date_sub(â€˜2008-12-31â€™, 1) =\u003e 2008-12-30, date_sub(â€˜2008-12-31â€™, -1) =\u003e 2009-01-01 æ—¶é—´è®¡ç®— add_months(string start_date, int num_months, output_date_format) string xæœˆåã€‚å¦‚æœstart_dateæ˜¯è¯¥æœˆçš„æœ€åä¸€å¤© æˆ–è€… xæœˆåçš„å¤©æ•°ä¸æ˜¯â€œå¤§æœˆâ€åˆ™ç»“æœä¸ºxæœˆåè¯¥æœˆçš„æœ€åä¸€å¤© add_months(â€˜2017-12-31 14:15:16â€™, 2, â€˜YYYY-MM-dd HH:mm:ssâ€™) =\u003e â€˜2018-02-28 14:15:16â€™ æ—¶é—´è®¡ç®— last_day(string date) string è¯¥æœˆæœ€åä¸€å¤©çš„æ—¥æœŸ last_day(2021-05-11) =\u003e â€˜2021-05-31â€™ æ—¶é—´è®¡ç®— next_day(string start_date, string day_of_week) string è¿”å›å¤§äº start_date çš„æ—¥æœŸä¸­æœ€è¿‘çš„ä¸€ä¸ªå‘¨x next_day(â€˜2021-05-31â€™,â€˜Mondayâ€™) æ—¶é—´è®¡ç®— months_between(date1, date2) double date1-date2 æœˆæ•°å·® months_between(â€˜1997-02-28 10:30:00â€™, â€˜1996-10-30â€™) =\u003e 3.94959677 ","date":"2021-06-06","objectID":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/:5:0","tags":["SQL"],"title":"Spark, Hive QL-æ—¥æœŸå‡½æ•°æ±‡æ€»","uri":"/posts/hql-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/"},{"categories":["å†™ä½œ"],"content":"è¯¦è¿°Hugo+Githubæ­å»ºä¸ªäººåšå®¢ å—æˆ‘å¸åŒæœŸå¤§ä½¬çš„å½±å“ï¼Œæˆ‘ä¹Ÿä¾¿æ­å»ºä¸ªäººåšå®¢æŠ˜è…¾ä¸‹ï¼Œè®°å½•ç‚¹ä»€ä¹ˆ~ åœ¨è¿™demoæˆå‹ä¹‹é™…ï¼Œä»¥å°ç™½è§†è§’è®°å½•ä¸‹åŸºäº HuGo å’Œ Github å®Œæˆæ­å»ºçš„å†ç¨‹ æ‰€ä»¥ï¼Œæœ€åˆçš„å‡†å¤‡å·¥ä½œä¾¿æ˜¯ï¼ˆå‡è®¾å·²å®‰è£…Gitï¼‰ ","date":"2021-06-05","objectID":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/:0:0","tags":["blog"],"title":"å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢","uri":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["å†™ä½œ"],"content":"å®‰è£… Hugoå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£å®Œæˆåœ¨Windows, Macç­‰å¹³å°çš„å®‰è£… è™½ç„¶HuGoæ˜¯åŸºäºGoè¯­è¨€ç¼–å†™çš„ï¼Œä½†å¹¶ä¸æ˜¯ä¸€å®šè¦å®‰è£…Goæ‰èƒ½ä½¿ç”¨HuGoã€‚å¯è·¨å¹³å° åœ¨æ­¤ï¼Œä»¥ Windows ç³»ç»Ÿä¸ºä¾‹è®°å½•å®‰è£…è¿‡ç¨‹ åœ¨è¿™å„¿ä¸‹è½½å¯¹åº”çš„å‹ç¼©åŒ… è§£å‹ hugo_0.83.1_Windows-64bit.zipè§£å‹åå¾—åˆ°çš„æ–‡ä»¶å¦‚ä¸‹å›¾æ‰€ç¤º æ·»åŠ è‡³ç¯å¢ƒå˜é‡ å°†hugo.exeæ–‡ä»¶æ”¾å…¥binæ–‡ä»¶å¤¹ï¼ˆè‹¥æ— å¯æ–°å»ºï¼‰ éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ hugo version # hugo v0.83.1-5AFE0A57 windows/amd64 BuildDate=2021-05-02T14:38:05Z VendorInfo=gohugoio æœ¬åœ°åˆ›å»ºåšå®¢ ç»ˆç«¯ cd è‡³æŸä¸ªæ–‡ä»¶ä¸‹ hugo new site unclehuzi # blogç›®å½•å°±æ˜¯åˆ›å»ºçš„åšå®¢ç›®å½• # Congratulations! Your new Hugo site is created in D:\\unclehuzi. # Just a few more steps and you're ready to go: # 1. Download a theme into the same-named folder. # Choose a theme from https://themes.gohugo.io/ or # create your own with the \"hugo new theme \u003cTHEMENAME\u003e\" command. # 2. Perhaps you want to add some content. You can add single files # with \"hugo new \u003cSECTIONNAME\u003e\\\u003cFILENAME\u003e.\u003cFORMAT\u003e\". # 3. Start the built-in live server via \"hugo server\". # Visit https://gohugo.io/ for quickstart guide and full documentation. tree unclehuzi/ ##### D:\\unclehuzi â”œâ”€archetypes â”œâ”€content # åšå®¢æ–‡ç« å­˜æ”¾ç›®å½•ï¼ˆmarkdownæ–‡ä»¶ï¼‰ â”œâ”€data â”œâ”€layouts â”œâ”€static # é™æ€æ–‡ä»¶/å›¾ç‰‡/CSS/JSæ–‡ä»¶ â”œâ”€themes # åšå®¢ä¸»é¢˜æ¨¡æ¿å­˜æ”¾ç›®å½• â””â”€config.toml # åšå®¢çš„é…ç½®æ–‡ä»¶ é€‰æ‹©ä¸»é¢˜ æˆ‘é€‰æ‹©çš„æ˜¯ Maupassantï¼Œé€šè¿‡Git çš„æ–¹å¼è·å– # cd è‡³ unclehuzi æ–‡ä»¶å¤¹ git clone https://github.com/flysnow-org/maupassant-hugo themes/maupassant cp themes/maupassant/exampleSite/config.toml . # ä½¿ç”¨æ¨¡æ¿è‡ªå¸¦çš„é…ç½®æ–‡ä»¶æ›¿æ¢é»˜è®¤é…ç½®æ–‡ä»¶ mkdir content/post # åˆ›å»ºåšå®¢æ–‡ç« mdæ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼ˆè¯¥ä¸»é¢˜æ¨¡æ¿è¦æ±‚æ”¾åœ¨content/postç›®å½•ä¸‹ï¼‰ æ ¹æ®éœ€è¦è°ƒæ•´ D:\\unclehuzi\\config.toml æ–‡ä»¶ baseURL = \"your_github_name.github.io\" # ä¿®æ”¹ä¸ºåšå®¢çš„ç½‘å€ï¼Œæ­¤å¤„ä½¿ç”¨github pagesåœ°å€ï¼Œåé¢å…·ä½“ä»‹ç» languageCode = \"zh-CN\" title = \"èƒ¡å­å”å”çš„å°ç«™\" # åšå®¢çš„åå­— theme = \"maupassant\" å…·ä½“å¯ä»¥å‚è€ƒ å®˜æ–¹è¯´æ˜ è¿›è¡Œé…ç½® æœ¬åœ°æµ‹è¯• # cd D:\\unclehuzi hugo new post/my-first-blog.md vim content/post/my-first-blog.md # ä»¥ä¸‹ä¸ºmdæ–‡ä»¶å†…å®¹ +++ title=\"My First Blog\" tags=[\"blog\"] categories=[\"åšå®¢ç›¸å…³\"] date=2020-01-16T10:37:32+08:00 draft=false # æ­¤å¤„è¦æ”¹ä¸ºfalseï¼Œå¦åˆ™åœ¨é¦–é¡µä¸ä¼šæ˜¾ç¤ºï¼ +++ #### Hello World! é€šè¿‡ hugo server -D å‘½ä»¤å¯åŠ¨ï¼Œè®¿é—® http://localhost:1313/ å³å¯ ","date":"2021-06-05","objectID":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/:1:0","tags":["blog"],"title":"å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢","uri":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["å†™ä½œ"],"content":"å»ºç«‹åšå®¢ä¸“å±çš„ä»“åº“ä¸»è¦çš„äº‹æƒ…è¯´ä¸‰éï¼š Repository name å¡« githubåå­—.github.ioï¼Œå¦‚ unclehuzi.github.io Repository name å¡« githubåå­—.github.ioï¼Œå¦‚ unclehuzi.github.io Repository name å¡« githubåå­—.github.ioï¼Œå¦‚ unclehuzi.github.io ä»“åº“åˆ›å»ºå®Œæˆä¹‹åè®°å¾—ä¿®æ”¹ D:\\unclehuzi\\config.toml æ–‡ä»¶çš„ baseURL ","date":"2021-06-05","objectID":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/:2:0","tags":["blog"],"title":"å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢","uri":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["å†™ä½œ"],"content":"ç”Ÿæˆ public æ–‡ä»¶åˆ›å»ºå®Œæˆä¹‹åï¼Œé€šè¿‡ hugo ç”Ÿæˆ public æ–‡ä»¶ hugo --theme=maupassant --baseUrl=\"https://your_github_name.github.io\" # themeä¸ºä¸»é¢˜æ¨¡æ¿åç§°ï¼Œurlä¸ºä¸Šä¸€æ­¥åˆ›å»ºçš„githubä»“åº“åç§° ","date":"2021-06-05","objectID":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/:2:1","tags":["blog"],"title":"å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢","uri":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["å†™ä½œ"],"content":"é€šè¿‡ git å‘½ä»¤å°† public æ–‡ä»¶æ¨é€è‡³ä»“åº“ cd D:\\unclehuzi\\public # 1. åˆå§‹åŒ– git init # 2. å°†æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶åŠ å…¥æœ¬åœ°ä»“åº“ git add . # 3. æ·»åŠ æ³¨é‡Š git commit -m \"comments\" # git commit -m \"updates $(date)\" # 4. å»ºç«‹è¿æ¥ BY HTTPS git remote add origin https://github.com/unclehuzi/unclehuzi.github.io.git # 5. è¿œç¨‹ä»“åº“æ‹‰åˆ°æœ¬åœ°ï¼ˆå¦‚æœè¿œç¨‹ä»“åº“å†…æ²¡æœ‰æ–‡ä»¶å¯è·³è¿‡æ­¥éª¤5ï¼‰ git pull --rebase origin master # ä¹‹åæ›´æ–°æœ¬åœ°ï¼š git pull origin master # 6. ä¸Šä¼  push git push -u origin master # git push -u origin master -f # å¼ºåˆ¶ä¸Šä¼  # å¤‡æ³¨ # å’Œè¿œç¨‹å»ºç«‹è¿æ¥ä¹‹åï¼Œæ‰§è¡Œ 2-3-6 æ­¥éª¤å³å¯ã€‚ æœ€åï¼Œè®¿é—® https://your_github_name.github.io å³å¯ ","date":"2021-06-05","objectID":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/:2:2","tags":["blog"],"title":"å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢","uri":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"categories":["å†™ä½œ"],"content":"æ€»ç»“æœ¬æ–‡åŸºäº Github Pages æœåŠ¡ï¼Œä½¿ç”¨æˆç†Ÿçš„æ¡†æ¶åŠä¸»é¢˜å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢demoã€‚ æ›´æ–°ç½‘ç«™ä¸¤æ­¥èµ°ï¼š åœ¨åšå®¢æ–‡ä»¶å¤¹ï¼ˆD:\\unclehuziï¼‰ä¸‹ç”Ÿæˆ public æ–‡ä»¶å¤¹ å°† public æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶æ¨é€è‡³GitHubä»“åº“ åç»­åœ¨ç½‘ç«™è®¾è®¡æ–¹é¢è¿˜éœ€è¦äº†è§£ä¸‹Webå¼€å‘ç›¸å…³çŸ¥è¯†ï¼Œé’ˆå¯¹æ€§çš„ä¿®æ”¹ä¸»é¢˜çš„æºç ä»¥å®ç°è‡ªå·±çš„éœ€æ±‚~ ","date":"2021-06-05","objectID":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/:3:0","tags":["blog"],"title":"å¿«é€Ÿæ­å»ºä¸ªäººåšå®¢","uri":"/posts/20210528-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"categories":null,"content":"ä¸æ‰“ç¾½æ¯›çƒã€ä¸å†™ä»£ç çš„è¥é”€äººä¸æ˜¯ä¸€åå¥½åˆ†æå¸ˆ","date":"2021-05-28","objectID":"/about/","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"2020å¹´7æœˆç¡•å£«æ¯•ä¸šäºä¸Šæµ·-åä¸œå¸ˆèŒƒå¤§å­¦-å¸‚åœºè¥é”€ä¸“ä¸šï¼Œå¹¶è£è· ä¸Šæµ·å¸‚ä¼˜ç§€æ¯•ä¸šç”Ÿ åˆå¿ƒè¿˜æ˜¯æƒ³åŸºäºè¥é”€ç­‰å•†ä¸šç›¸å…³ç†è®ºæŒ‡å¯¼æ•°æ®åˆ†æå·¥ä½œã€‚å› æ­¤ï¼Œä¹Ÿè‡´åŠ›äºæ€ç»´ã€æŠ€æœ¯åŒè½¨é“å‘å±• å°†ä»¥æ­¤åšå®¢è®°å½•ä¸ªäººçš„æˆé•¿ :) å¹³æ—¶ï¼ˆä¸»è¦æ˜¯å‘¨æœ«ï¼‰ä¹Ÿä¼šåœ¨ä¸‹é¢ä¿©åœ°æ–¹æ‰“ç¾½æ¯›çƒ ğŸ¸ è™½ç„¶æŠ€æœ¯ä¸å’‹åœ°ï¼Œä½†å°±æ˜¯ç©~çº¦çƒ~ ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒºç¾½å±±è·¯1200å·(è¿‘å´®å±±è·¯) ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒºå³¨å±±è·¯91å¼„140å·åŒå­¦æ±‡ç»¼åˆè¿åŠ¨é¦† ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸ªäººå…¬ä¼—å· ~æ¬¢è¿å…³æ³¨ä¸€æ³¢~ ","date":"2021-05-28","objectID":"/about/:0:0","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":["å†™ä½œ"],"content":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿ï¼Œæ ·å¼å…ˆè¡Œ ä¸‰å¹´å‰çš„æˆ‘ææ¯•ä¸šè®¾è®¡ï¼Œç¬¬ä¸€æ¬¡æ¥è§¦è¿™ç©æ„å„¿ï¼Œä¸€è„¸æ‡µé€¼ å¥½åœ¨æˆ‘æœ±å“¥æè¿‡å¤§åˆ›ï¼ˆè¿˜æ˜¯å›½å®¶çº§çš„ï¼‰ï¼Œå½“æ—¶ç»™æˆ‘å„ç§ç§‘æ™®å•ç‰‡æœºçš„çŸ¥è¯† æå¤§åˆ›çš„å¥½å¤„å°±æ˜¯å½“æˆ‘ä»¬ä¸çŸ¥é“æ˜¯ç”»æœºæ¢°å›¾è¿˜æ˜¯æç”µè·¯çš„æ—¶å€™ï¼Œæœ±å“¥è®¾è®¡çš„æˆå“ä»¥åŠè®ºæ–‡éƒ½æå®šäº†ï¼Œï¼Œï¼Œè·‘é©¬ç¯è·‘èµ·æ¥ã€é…’ç²¾æµ“åº¦æµ‹èµ·æ¥ã€å°å±å¹•äº®èµ·æ¥ ä¸è¿‡æœ±å“¥ä¹Ÿæ²¡ç»§ç»­ææ±½è½¦ï¼Œåæ¥æŠ•èº«äº†æˆ‘å›½äº¤é€šäº‹ä¸šã€‚ä¾ç¨€è®°å¾—æœ±å“¥è¿œç¨‹é¢è¯•çš„æ—¶å€™ï¼Œå¯å®¤å‡ ä¸ªäººéƒ½åœ¨æ‰“æ¸¸æˆï¼Œï¼Œï¼Œåœ¨æˆ‘ä»¬çš„å½±å“ä¸‹ï¼Œæœ±å“¥æœ€ç»ˆå»äº†å¹¿ä¸œæŸ985é«˜æ ¡ ä½†é‚£æ—¶å€™æˆ‘ä»¬å¯¹Wordæ’ç‰ˆéƒ½ä¸æ€ä¹ˆäº†è§£ ä»¥ä¸‹æƒ…æ™¯å†å†åœ¨ç›®ï¼š è¿™ä¸ªå‚è€ƒæ–‡çŒ®çš„ä¸Šæ ‡æ€ä¹ˆå¼„ï¼Ÿ åˆè¦åŠ ç¯‡å‚è€ƒæ–‡çŒ®ï¼Ÿåºå·ä¸å¾—åˆé‡å†™ï¼Ÿ å‚è€ƒæ–‡çŒ®çš„å¼•ç”¨æ ¼å¼æ˜¯å•¥ï¼Ÿ è¿™äº›å­—ä½“éƒ½è¦æ”¹æˆä¸‰å·ã€åŠ ç²—ï¼Ÿç„¶åå°±ç”¨æ ¼å¼åˆ·ä¸€é¡¿æ›´æ–° ä¸‰çº¿è¡¨æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿåˆè¦ç”»ä¸‰çº¿è¡¨ï¼Ÿ ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ æ€»ä¹‹ï¼Œæˆ‘ä»¬éƒ½åœ¨Wordä¸ŠèŠ±äº†å¾ˆé•¿æ—¶é—´ï¼Œä¸æ–­çš„è¿›è¡Œé‡å¤æ€§çš„å·¥ä½œï¼Œä»¥æ»¡è¶³æ ¼å¼ä¸Šè¦æ±‚ ä½†å½“æˆ‘ä»¬é¢å¯¹ç¡•å£«æ¯•ä¸šè®ºæ–‡æ—¶ï¼Œåœ¨æ ¼å¼æ–¹é¢èŠ±çš„æ—¶é—´å°±å¾ˆå°‘å¾ˆå°‘äº†ï¼Œæ²¡æœ‰äº†å„ç§é‡å¤æ€§çš„æ“ä½œ å› ä¸ºæˆ‘ä»¬ç§‰æ‰¿ç€**æ ·å¼å…ˆè¡Œã€‚**åœ¨å†™è®ºæ–‡ä¹‹å‰ï¼Œå°±æ ¹æ®å­¦æ ¡çš„è¦æ±‚ï¼ŒæŠŠå­—ä½“ã€è¡¨æ ¼çš„æ ¼å¼è°ƒæ•´å¥½ï¼Œå†™ä½œçš„è¿‡ç¨‹ä¸­éšæ—¶åˆ‡æ¢ï¼Œè€Œä¸”å°±ç®—åç»­è¦è°ƒæ•´ï¼Œç»Ÿä¸€è°ƒæ•´å¯¹åº”çš„æ ·å¼å³å¯ï¼Œé¿å…äº†é‡å¤æ€§æ“ä½œã€‚ æœ¬æ–‡å¹¶ä¸æ˜¯è®°å½•å¦‚ä½•å»è°ƒæ•´/è®¾è®¡æ ·å¼ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºè¿™ä¸ªçœŸçš„æ˜¯å¤ªå¤šäº†ï¼Œé‡ç‚¹æ˜¯åŸºäºæ¯•ä¸šè®ºæ–‡æ ¼å¼è®°å½•wordçš„æ­£ç¡®æ‰“å¼€æ–¹å¼ï¼ŒæŠ½è±¡å‡ºå¤ç”¨çš„éƒ¨åˆ†ã€‚è¿™ä¹Ÿæ˜¯æˆ‘å¼€å‘æ¨¡æ¿çš„åŸå› ã€‚é¢å¯¹ä¸åŒçš„éœ€æ±‚ï¼Œåç»­åªéœ€è¦å¾®è°ƒå³å¯ã€‚ å¯ä»¥åœ¨æˆ‘çš„å…¬ä¼—å·å†…å›å¤ wordï¼Œ è·å–åä¸œå¸ˆèŒƒå¤§å­¦æ¯•ä¸šè®ºæ–‡æ¨¡æ¿ ï¼ˆç”¨è¿‡çš„æœ‹å‹éƒ½è¯´å¥½ï¼‰ ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:0:0","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"},{"categories":["å†™ä½œ"],"content":"æ¨¡å—æ‹†è§£æ ¹æ®è®ºæ–‡çš„æ€»ä½“æ¡†æ¶ï¼Œåˆ†åˆ«è®¾è®¡å¯¹åº”çš„æ ·å¼ã€‚ æ¢å¥è¯è¯´ä¾¿æ˜¯å…ˆå¼„æ¸…æ¥šæ•´ç¯‡è®ºæ–‡çš„å­—ä½“ã€æ®µè½ä¼šæ¶‰åŠåˆ°å“ªäº›ä¸åŒçš„æ ¼å¼è¦æ±‚ï¼Œåœ¨æ­£å¼å†™ä½œä¹‹å‰ï¼Œåˆ†åˆ«è®¾è®¡å¥½å¯¹åº”çš„æ ·å¼ã€‚ä»¥ä¾¿å†™ä½œè¿‡ç¨‹è°ƒç”¨ã€‚ æ¯•ä¸šè®ºæ–‡ä¸»ä½“éƒ¨åˆ†çš„æ ¼å¼è¦æ±‚ï¼Œå¾€å¾€ä¼šæ¶‰åŠåˆ°å„çº§æ ‡é¢˜ã€æ­£æ–‡ã€è„šæ³¨ã€å‚è€ƒæ–‡çŒ®ï¼ˆå‚è€ƒæ–‡çŒ®éƒ¨åˆ†åç»­ä¼šå•æ‹å‡ºæ¥è®°å½•ï¼‰å­—ä½“çš„æ ¼å¼ï¼Œç†å·¥ç§‘ä¸“ä¸šå¾€å¾€ä¼šè¦æ±‚è¡¨æ ¼æ˜¯ä¸‰çº¿è¡¨ã€‚ ç¡®å®šå¥½å­—ä½“ã€æ®µè½çš„æ ¼å¼è¦æ±‚åï¼Œå°±å¯ä»¥é’ˆå¯¹æ€§çš„ä¿®æ”¹/è®¾è®¡æ ·å¼ ä¸ºäº†æ–¹ä¾¿åç»­çš„å†™ä½œï¼Œå¯ä»¥è®¾è®¡ç›¸åº”çš„å¿«æ·é”®ï¼ˆæ ·å¼-\u003eæ ¼å¼-\u003eå¿«æ·é”®ï¼‰ ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:1:0","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"},{"categories":["å†™ä½œ"],"content":"å‚è€ƒæ–‡çŒ®æ ¼å¼æ­£æ–‡ä¸­å¾€å¾€ä¼šå¼•ç”¨ç›¸å…³å‚è€ƒæ–‡çŒ® è¿™æ—¶å€™å°±è¦æ”¾å‡ºæ–‡çŒ®ç®¡ç†å¤§æ€å™¨â€”â€”NoteExpress æœ‰äº†ä»–ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘ä¿®æ”¹å‚è€ƒæ–‡çŒ®çš„æ ¼å¼äº† åœ¨è½¯ä»¶ä¸­è®°å½•å¥½è¢«å¼•ç”¨çš„å†…å®¹ï¼Œå¦‚ä½œè€…ã€è®ºæ–‡æ ‡é¢˜ã€å¹´ä»½ã€æœŸåˆŠæˆ–ä¼šè®®åç§°ç­‰ç­‰ï¼ˆå¤§éƒ¨åˆ†pdfã€cajæ–‡çŒ®éƒ½èƒ½æœ‰æ•ˆè¯†åˆ«ï¼‰ æ¯å½“éœ€è¦æ ‡æ³¨å¼•ç”¨æ—¶ï¼Œç›´æ¥ç‚¹å‡»â€œå¼•ç”¨â€å³å¯ é€šè¿‡NoteExpresså¼•ç”¨è‡³wordåä¸»è¦æ¶‰åŠä¸¤å¤§éƒ¨åˆ†ï¼š æ­£æ–‡éƒ¨åˆ†çš„æ ‡æ³¨ ä¸Šæ ‡åºå· æˆ– ä½œè€…+å¹´ä»½ çš„å½¢å¼ é™„åœ¨æœ€åçš„å‚è€ƒæ–‡çŒ® å¦‚ [1] LIU Y. Word of mouth for movies: Its dynamics and impact on box office revenue[J]. Journal of Marketing. 2006, 70(3): 74-89. ä¾ç„¶æ˜¯æ ·å¼å…ˆè¡Œçš„é€»è¾‘ï¼Œç®€ä¾¿çš„åŠæ³•æ˜¯å…ˆåœ¨NoteExpressæ ·å¼åº“ä¸­é€‰æ‹©ä¸è‡ªå·±è¦æ±‚ç›¸ä¼¼çš„æ ·å¼ï¼Œå½“ç„¶ï¼Œå®Œå…¨æ»¡è¶³éœ€æ±‚å°±æ›´å¥½äº†ã€‚ æ¥ç€ï¼Œåœ¨æ‰€é€‰æ ·å¼çš„åŸºç¡€ä¸Šä¿®æ”¹ç›¸å…³æ ¼å¼ä»¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ å¼•æ–‡ä¸‹çš„ä¿®æ”¹ä¾¿æ˜¯å¯¹åº”ä¿®æ”¹â€œæ­£æ–‡éƒ¨åˆ†çš„æ ‡æ³¨â€çš„æ ¼å¼ é¢˜å½•ä¸‹çš„ä¿®æ”¹ä¾¿æ˜¯å¯¹åº”ä¿®æ”¹â€œé™„åœ¨æœ€åçš„å‚è€ƒæ–‡çŒ®â€çš„æ ¼å¼ å€¼å¾—ä¸€æçš„æ˜¯ï¼Œé¢˜å½•ä¸­å¯è®¾ç½®æ’åºçš„è§„åˆ™ï¼Œå› ä¸ºæœ‰äº›å­¦æ ¡è¦æ±‚è‹±æ–‡æ–‡çŒ®åœ¨å‰é¢ã€ä¹‹åå†æŒ‰ç…§æ—¶é—´æˆ–ä½œè€…æ’åºã€‚ ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:2:0","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"},{"categories":["å†™ä½œ"],"content":"Tipsæœ€åå†è®°å½•äº›æ‚ä¸ƒæ‚å…«çš„tips ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:3:0","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"},{"categories":["å†™ä½œ"],"content":"è¡¨æ ¼ã€å›¾ç‰‡åç§° é€‰ä¸­è¡¨æ ¼ï¼ˆ/å›¾ç‰‡ï¼‰ï¼Œå³é”®â€œæ’å…¥é¢˜æ³¨â€ï¼Œæ ‡ç­¾é€‰æ‹©â€œè¡¨â€ï¼Œç¼–å·é€‰æ‹©â€œåŒ…å«ç« èŠ‚å·â€ ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:3:1","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"},{"categories":["å†™ä½œ"],"content":"äº¤å‰å¼•ç”¨è®ºæ–‡ä¸­å¾€å¾€ä¼šçœ‹åˆ°å¦‚å›¾xxxæ‰€ç¤ºã€å¦‚è¡¨xxxæ‰€ç¤ºç­‰è¡¨è¿°æ–¹å¼ï¼Œå¹¶ä¸”å¸Œæœ›èƒ½å®šä½åˆ°ç›¸å…³è¡¨æ ¼æˆ–å›¾ç‰‡æ—¶ï¼Œå°±éœ€è¦é‡‡ç”¨æ–‡å†…äº¤å‰å¼•ç”¨çš„æ–¹æ³• ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:3:2","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"},{"categories":["å†™ä½œ"],"content":"å…¬å¼å½“æˆ‘ä»¬ç”¨MathTypeç¼–è¾‘å…¬å¼ï¼Œç²˜è´´è‡³wordæ—¶ï¼Œå¾€å¾€ä¼šå½±å“wordçš„æ ¼å¼ï¼Œä¸»è¦ä½“ç°åœ¨è¡Œä¸è¡Œä¹‹é—´çš„è·ç¦»å˜å¤§ã€‚ å¯¹åº”çš„è§£å†³æ–¹æ¡ˆä¾¿ï¼šåœ¨å¯¹åº”çš„æ®µè½å†…ï¼Œå³é”®é€‰æ‹©â€œæ®µè½â€ï¼Œå–æ¶ˆå‹¾é€‰ä¸‹å›¾ä¸­æ‰€ç¤ºå†…å®¹ ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:3:3","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"},{"categories":["å†™ä½œ"],"content":"ä»£ç é«˜äº®æ¶‰åŠåˆ°ä»£ç çš„è¯ï¼Œä¸ºäº†ç¾è§‚ï¼Œå¾€å¾€å¸Œæœ›wordä¸­ä»£ç ä¹Ÿå®ç°é«˜äº® æ¨è planetB æš‚æ—¶ç»Ÿè®¡äº†è¿™å‡ ä¸ªtipsï¼Œæ¬¢è¿äº¤æµ ","date":"2020-04-21","objectID":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/:3:4","tags":["è®ºæ–‡æ¨¡æ¿"],"title":"æ¯•ä¸šè®ºæ–‡æ¨¡æ¿","uri":"/posts/2020-%E8%AE%BA%E6%96%87%E6%8E%92%E7%89%88/"}]